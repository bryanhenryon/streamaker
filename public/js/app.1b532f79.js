(function(e){function t(t){for(var o,n,c=t[0],i=t[1],l=t[2],u=0,p=[];u<c.length;u++)n=c[u],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&p.push(s[n][0]),s[n]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);d&&d(t);while(p.length)p.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],o=!0,c=1;c<r.length;c++){var i=r[c];0!==s[i]&&(o=!1)}o&&(a.splice(t--,1),e=n(n.s=r[0]))}return e}var o={},s={app:0},a=[];function n(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=o,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var d=i;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"02a1":function(e,t,r){"use strict";r("2563")},"13a4":function(e,t,r){},"1fc7":function(e,t,r){"use strict";r("acfc")},"22d7":function(e,t,r){},2563:function(e,t,r){},"2ef2":function(e,t,r){"use strict";r("51bf")},"41a8":function(e,t,r){},4352:function(e,t,r){},4776:function(e,t,r){},4872:function(e,t,r){},"4a1d":function(e,t,r){"use strict";r("502e")},"502e":function(e,t,r){},"51bf":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var o=r("7a23");function s(e,t,r,s,a,n){var c=Object(o["x"])("router-view"),i=Object(o["x"])("app-sign-up-modal"),l=Object(o["x"])("app-sign-in-modal");return Object(o["q"])(),Object(o["d"])("div",null,[Object(o["h"])(c,{key:e.$route.fullPath}),Object(o["h"])(i),Object(o["h"])(l)])}var a=Object(o["G"])("data-v-1a53e073");Object(o["t"])("data-v-1a53e073");var n={class:"sign-up-modal"},c={class:"sign-up-modal__content"},i=Object(o["h"])("svg",{class:"icon icon-cross"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-cross"})],-1),l={class:"sign-up-modal__content-wrapper"},d=Object(o["h"])("h2",{class:"sign-up-modal__header"},"Inscription",-1),u={class:"sign-up-modal__form-group"},p=Object(o["h"])("svg",{class:"icon icon-user"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-user"})],-1),b=Object(o["h"])("label",{for:"username",class:"sign-up-modal__label"},"Pseudo",-1),h={key:0,class:"sign-up-modal__input-error-message"},m={class:"sign-up-modal__form-group"},f=Object(o["h"])("svg",{class:"icon icon-email"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-email"})],-1),j=Object(o["h"])("label",{for:"email",class:"sign-up-modal__label"},"Email",-1),O={key:0,class:"sign-up-modal__input-error-message"},v={class:"sign-up-modal__form-group"},g=Object(o["h"])("svg",{class:"icon icon-lock"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-lock"})],-1),y=Object(o["h"])("label",{for:"password",class:"sign-up-modal__label"},"Mot de passe",-1),w={key:0,class:"sign-up-modal__input-error-message"},k={class:"sign-up-modal__form-group"},_=Object(o["h"])("svg",{class:"icon icon-lock"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-lock"})],-1),x=Object(o["h"])("label",{for:"confirm-password",class:"sign-up-modal__label"},"Confirmer le mot de passe",-1),E={key:0,class:"sign-up-modal__input-error-message"},q={key:0},M={class:"sign-up-modal__already-registered"},P=Object(o["g"])(" Déjà un compte ? ");Object(o["r"])();var L=a((function(e,t,r,s,a,L){var C=Object(o["x"])("app-facebook-spinner");return Object(o["q"])(),Object(o["d"])("div",n,[Object(o["h"])("div",c,[Object(o["h"])("button",{class:"btn sign-up-modal__close-modal-btn",onClick:t[1]||(t[1]=function(){return L.closeSignUpModal&&L.closeSignUpModal.apply(L,arguments)})},[i]),Object(o["h"])("div",l,[d,Object(o["h"])("form",{onSubmit:t[6]||(t[6]=Object(o["F"])((function(){return L.signUp&&L.signUp.apply(L,arguments)}),["prevent"])),class:"sign-up-modal__form"},[Object(o["h"])("div",u,[p,b,Object(o["E"])(Object(o["h"])("input",{type:"text",name:"username",id:"username",class:"sign-up-modal__text-input",placeholder:"Choisissez un pseudo","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.username=t})},null,512),[[o["C"],e.username,void 0,{trim:!0}]]),e.usernameErrorMessage?(Object(o["q"])(),Object(o["d"])("div",h,Object(o["A"])(e.usernameErrorMessage),1)):Object(o["e"])("",!0)]),Object(o["h"])("div",m,[f,j,Object(o["E"])(Object(o["h"])("input",{type:"text",name:"email",id:"email",class:"sign-up-modal__text-input",placeholder:"Entrez votre email","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.email=t})},null,512),[[o["C"],e.email,void 0,{trim:!0}]]),e.emailErrorMessage?(Object(o["q"])(),Object(o["d"])("div",O,Object(o["A"])(e.emailErrorMessage),1)):Object(o["e"])("",!0)]),Object(o["h"])("div",v,[g,y,Object(o["E"])(Object(o["h"])("input",{type:"password",name:"password",id:"password",class:"sign-up-modal__text-input",placeholder:"Entrez votre mot de passe","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.password=t})},null,512),[[o["C"],e.password,void 0,{trim:!0}]]),e.passwordErrorMessage?(Object(o["q"])(),Object(o["d"])("div",w,Object(o["A"])(e.passwordErrorMessage),1)):Object(o["e"])("",!0)]),Object(o["h"])("div",k,[_,x,Object(o["E"])(Object(o["h"])("input",{type:"password",name:"confirmPassword",id:"confirm-password",class:"sign-up-modal__text-input",placeholder:"Confirmez votre mot de passe","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.confirmPassword=t})},null,512),[[o["C"],e.confirmPassword,void 0,{trim:!0}]]),e.confirmPasswordErrorMessage?(Object(o["q"])(),Object(o["d"])("div",E,Object(o["A"])(e.confirmPasswordErrorMessage),1)):Object(o["e"])("",!0)]),Object(o["h"])("button",{disabled:a.isLoading,type:"submit",class:"btn sign-up-modal__sign-up-btn"},[a.isLoading?(Object(o["q"])(),Object(o["d"])(C,{key:1})):(Object(o["q"])(),Object(o["d"])("span",q,"S'enregistrer"))],8,["disabled"])],32),Object(o["h"])("div",M,[P,Object(o["h"])("button",{class:"btn sign-up-modal__sign-in-btn",onClick:t[7]||(t[7]=function(){return L.showSignInModal&&L.showSignInModal.apply(L,arguments)})}," Connectez-vous ")])])])])})),C=(r("4d63"),r("ac1f"),r("25f0"),r("5530")),S=Object(o["G"])("data-v-2e6cb304");Object(o["t"])("data-v-2e6cb304");var A={class:"lds-facebook"},F=Object(o["h"])("span",null,null,-1),I=Object(o["h"])("span",null,null,-1),T=Object(o["h"])("span",null,null,-1);Object(o["r"])();var R=S((function(e,t){return Object(o["q"])(),Object(o["d"])("span",A,[F,I,T])}));r("a3cf");const U={};U.render=R,U.__scopeId="data-v-2e6cb304";var B=U,V=(r("77ed"),r("bc3a")),D=r.n(V),$=r("5935"),z=r("5502"),N={data:function(){return{isLoading:!1}},components:{"app-facebook-spinner":B},computed:Object(C["a"])(Object(C["a"])({},Object($["b"])("signUpModal",["username","email","password","confirmPassword","usernameErrorMessage","emailErrorMessage","passwordErrorMessage","confirmPasswordErrorMessage"])),Object(z["b"])("global",{apiRoot:"getApiRoot"})),methods:{closeSignUpModal:function(){var e=document.querySelector(".sign-up-modal");e.classList.remove("active"),this.$store.commit("signUpModal/resetForm")},signUp:function(){var e=this;this.validateUsername(),this.validateEmail(),this.validatePassword(),this.validateConfirmPassword(),this.validateUsername()&&this.validateEmail()&&this.validatePassword()&&this.validateConfirmPassword()&&(this.isLoading=!0,D.a.post(this.apiRoot+"users",{username:this.username,email:this.email,password:this.password,confirmPassword:this.confirmPassword}).then((function(t){e.isLoading=!1,localStorage.setItem("jwt",t.data.token),localStorage.setItem("user",JSON.stringify(t.data.user)),e.$store.dispatch("setToken",localStorage.getItem("jwt")),e.$store.dispatch("setUser",JSON.parse(localStorage.getItem("user")));var r=document.querySelector(".sign-up-modal");r.classList.remove("active")})).catch((function(t){e.isLoading=!1,e.$store.commit("signUpModal/setEmailErrorMessage",t.response.data.errors.email),e.$store.commit("signUpModal/setUsernameErrorMessage",t.response.data.errors.username)})))},validateUsername:function(){return""===this.username?(this.$store.commit("signUpModal/setUsernameErrorMessage","Veuillez indiquer un pseudo"),!1):this.username.length>20?(this.$store.commit("signUpModal/setUsernameErrorMessage","Le pseudo doit être de 20 caractères maximum"),!1):(this.$store.commit("signUpModal/setUsernameErrorMessage",""),!0)},validateEmail:function(){var e=new RegExp(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),t=e.test(this.email);return""===this.email?(this.$store.commit("signUpModal/setEmailErrorMessage","Veuillez indiquer une adresse email"),!1):t?(this.$store.commit("signUpModal/setEmailErrorMessage",""),!0):(this.$store.commit("signUpModal/setEmailErrorMessage","L'adresse email indiquée est incorrecte"),!1)},validatePassword:function(){return""===this.password?(this.$store.commit("signUpModal/setPasswordErrorMessage","Veuillez indiquer un mot de passe"),!1):this.password.length<6?(this.$store.commit("signUpModal/setPasswordErrorMessage","Le mot de passe doit être d'au moins 6 caractères"),!1):(this.$store.commit("signUpModal/setPasswordErrorMessage",""),!0)},validateConfirmPassword:function(){return""===this.confirmPassword?(this.$store.commit("signUpModal/setConfirmPasswordErrorMessage","Veuillez confirmer votre mot de passe"),!1):this.confirmPassword!==this.password?(this.$store.commit("signUpModal/setConfirmPasswordErrorMessage","Les mots de passe ne correspondent pas"),!1):(this.$store.commit("signUpModal/setConfirmPasswordErrorMessage",""),!0)},showSignInModal:function(){var e=document.querySelector(".sign-in-modal"),t=document.querySelector(".sign-in-modal__content"),r=document.querySelector(".sign-up-modal");t.classList.remove("animate__animated","animate__slideInDown","animate__faster"),e.classList.add("active"),r.classList.remove("active"),this.$store.commit("signUpModal/resetForm"),e.classList.contains("active")&&window.addEventListener("click",(function(t){if(t.target!==e)return!1;e.classList.remove("active")}))}}};r("4a1d");N.render=L,N.__scopeId="data-v-1a53e073";var G=N,H=Object(o["G"])("data-v-7290fee5");Object(o["t"])("data-v-7290fee5");var J={class:"sign-in-modal"},Y={class:"sign-in-modal__content"},K=Object(o["h"])("svg",{class:"icon icon-cross"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-cross"})],-1),Z={class:"sign-in-modal__content-wrapper"},Q=Object(o["h"])("h2",{class:"sign-in-modal__header"},"Connexion",-1),W={key:0,class:"error-message"},X={class:"sign-in-modal__form-group"},ee=Object(o["h"])("svg",{class:"icon icon-user"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-user"})],-1),te=Object(o["h"])("label",{for:"sign-in-username",class:"sign-in-modal__label"},"Pseudo",-1),re={class:"sign-in-modal__form-group"},oe=Object(o["h"])("svg",{class:"icon icon-lock"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-lock"})],-1),se=Object(o["h"])("label",{for:"sign-in-password",class:"sign-in-modal__label"},"Mot de passe",-1),ae={key:0},ne={class:"sign-in-modal__not-registered"},ce=Object(o["g"])(" Pas encore inscris ? "),ie=Object(o["h"])("a",{href:"#",class:"sign-in-modal__forgotten-password"},"Mot de passe oublié ?",-1);Object(o["r"])();var le=H((function(e,t,r,s,a,n){var c=Object(o["x"])("app-facebook-spinner");return Object(o["q"])(),Object(o["d"])("div",J,[Object(o["h"])("div",Y,[Object(o["h"])("button",{class:"btn sign-in-modal__close-modal-btn",onClick:t[1]||(t[1]=function(){return n.closeSignInModal&&n.closeSignInModal.apply(n,arguments)})},[K]),Object(o["h"])("div",Z,[Q,e.errorMessage?(Object(o["q"])(),Object(o["d"])("div",W,Object(o["A"])(e.errorMessage),1)):Object(o["e"])("",!0),Object(o["h"])("form",{class:"sign-in-modal__form",onSubmit:t[5]||(t[5]=Object(o["F"])((function(){return n.signIn&&n.signIn.apply(n,arguments)}),["prevent"]))},[Object(o["h"])("div",X,[ee,te,Object(o["E"])(Object(o["h"])("input",{type:"text",name:"username",id:"sign-in-username",class:"sign-in-modal__text-input",placeholder:"Entrez votre pseudo","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.username=t})},null,512),[[o["C"],e.username]])]),Object(o["h"])("div",re,[oe,se,Object(o["E"])(Object(o["h"])("input",{type:"password",name:"password",id:"sign-in-password",class:"sign-in-modal__text-input",placeholder:"Entrez votre mot de passe","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.password=t})},null,512),[[o["C"],e.password]])]),Object(o["h"])("button",{disabled:a.isLoading,class:"btn sign-in-modal__sign-in-btn",onClick:t[4]||(t[4]=function(){return n.signIn&&n.signIn.apply(n,arguments)})},[a.isLoading?(Object(o["q"])(),Object(o["d"])(c,{key:1})):(Object(o["q"])(),Object(o["d"])("span",ae,"Se connecter"))],8,["disabled"])],32),Object(o["h"])("div",ne,[ce,Object(o["h"])("button",{class:"btn sign-in-modal__sign-up-btn",onClick:t[6]||(t[6]=function(){return n.showSignUpModal&&n.showSignUpModal.apply(n,arguments)})}," Cliquez-ici ! ")]),ie])])])})),de={data:function(){return{isLoading:!1}},components:{"app-facebook-spinner":B},computed:Object(C["a"])(Object(C["a"])(Object(C["a"])({},Object(z["b"])("signInModal",{errorMessage:"getErrorMessage"})),Object(z["b"])("global",{apiRoot:"getApiRoot"})),Object($["b"])("signInModal",["username","password"])),methods:{signIn:function(){var e=this;this.isLoading=!0,D.a.post(this.apiRoot+"users/login",{username:this.username,password:this.password}).then((function(t){e.isLoading=!1,e.$store.dispatch("signInModal/resetForm"),localStorage.setItem("jwt",t.data.token),localStorage.setItem("user",JSON.stringify(t.data.user)),e.$store.dispatch("setToken",localStorage.getItem("jwt")),e.$store.dispatch("setUser",JSON.parse(localStorage.getItem("user")));var r=document.querySelector(".sign-in-modal");r.classList.remove("active")})).catch((function(t){e.isLoading=!1,e.$store.dispatch("signInModal/setErrorMessage",t.response.data.error)}))},closeSignInModal:function(){document.querySelector(".sign-in-modal").classList.remove("active"),this.$store.dispatch("signInModal/resetForm")},showSignUpModal:function(){var e=document.querySelector(".sign-up-modal"),t=document.querySelector(".sign-up-modal__content"),r=document.querySelector(".sign-in-modal");t.classList.remove("animate__animated","animate__slideInDown","animate__faster"),r.classList.remove("active"),e.classList.add("active"),this.$store.dispatch("signInModal/resetForm"),e.classList.contains("active")&&window.addEventListener("click",(function(t){if(t.target!==e)return!1;e.classList.remove("active")}))}}};r("a40a");de.render=le,de.__scopeId="data-v-7290fee5";var ue=de,pe={components:{"app-sign-up-modal":G,"app-sign-in-modal":ue}};pe.render=s;var be=pe,he=r("6c02"),me={class:"home"},fe={class:"home__container"};function je(e,t,r,s,a,n){var c=Object(o["x"])("app-header"),i=Object(o["x"])("app-previews"),l=Object(o["x"])("app-footer");return Object(o["q"])(),Object(o["d"])("div",me,[Object(o["h"])(c),Object(o["h"])("div",fe,[Object(o["h"])(i),Object(o["h"])(l)])])}var Oe=Object(o["G"])("data-v-c347da28");Object(o["t"])("data-v-c347da28");var ve={class:"header"},ge={class:"header-content-wrapper"};Object(o["r"])();var ye=Oe((function(e,t,r,s,a,n){var c=Object(o["x"])("app-navbar"),i=Object(o["x"])("app-social"),l=Object(o["x"])("app-search"),d=Object(o["x"])("app-scroll-cta");return Object(o["q"])(),Object(o["d"])("header",ve,[Object(o["h"])(c),Object(o["h"])("div",ge,[Object(o["h"])(i),Object(o["h"])(l)]),Object(o["h"])(d)])})),we=Object(o["G"])("data-v-425994f3");Object(o["t"])("data-v-425994f3");var ke={class:"navbar"},_e=Object(o["h"])("div",{class:"navbar_logo"},"LOGO / NOM DU SITE",-1),xe={class:"navbar_buttons"},Ee={class:"navbar__profile"},qe={class:"navbar__user-img-container"},Me={key:0},Pe=Object(o["h"])("svg",{class:"icon icon-chevron-down--profile-dropdown-btn"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-chevron-down"})],-1),Le={key:1,class:"navbar__user-profile-dropdown-menu"},Ce=Object(o["h"])("svg",{class:"icon icon-user"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-user"})],-1),Se=Object(o["g"])(" Mon profil "),Ae=Object(o["h"])("svg",{class:"icon icon-user"},[Object(o["h"])("svg",{class:"icon icon-profile"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-profile"})])],-1),Fe=Object(o["g"])(" Mes informations "),Ie=Object(o["h"])("svg",{class:"icon icon-music-notes"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-music-notes"})],-1),Te=Object(o["g"])(" Mes prods "),Re=Object(o["h"])("svg",{class:"icon icon-switch"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-switch"})],-1),Ue=Object(o["g"])(" Déconnexion "),Be=Object(o["h"])("button",{class:"btn btn--menu"},[Object(o["h"])("svg",{class:"icon icon-menu"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-menu"})])],-1);Object(o["r"])();var Ve=we((function(e,t,r,s,a,n){var c=Object(o["x"])("router-link");return Object(o["q"])(),Object(o["d"])("nav",ke,[_e,Object(o["h"])("div",xe,[e.jwt?Object(o["e"])("",!0):(Object(o["q"])(),Object(o["d"])("button",{key:0,class:"btn navbar__sign-in-btn",onClick:t[1]||(t[1]=function(){return n.showSignInModal&&n.showSignInModal.apply(n,arguments)})}," Se connnecter ")),e.jwt?Object(o["e"])("",!0):(Object(o["q"])(),Object(o["d"])("button",{key:1,class:"btn btn-buy",onClick:t[2]||(t[2]=function(){return n.showSignUpModal&&n.showSignUpModal.apply(n,arguments)})}," Achète des prods ")),e.jwt?Object(o["e"])("",!0):(Object(o["q"])(),Object(o["d"])("button",{key:2,class:"btn btn-sell",onClick:t[3]||(t[3]=function(){return n.showSignUpModal&&n.showSignUpModal.apply(n,arguments)})}," Vends des prods ")),Object(o["h"])("div",Ee,[e.jwt?(Object(o["q"])(),Object(o["d"])("button",{key:0,class:"btn navbar__user-profile-dropdown-btn",onClick:t[4]||(t[4]=function(){return n.showDropdownMenu&&n.showDropdownMenu.apply(n,arguments)})},[Object(o["h"])("div",qe,[Object(o["h"])("img",{class:"navbar__user-img",src:e.apiRoot+"user/profile_picture/"+e.user.profilePicture,alt:"Image de profil"},null,8,["src"])]),e.user?(Object(o["q"])(),Object(o["d"])("p",Me,Object(o["A"])(e.user.username),1)):Object(o["e"])("",!0),Pe])):Object(o["e"])("",!0),e.jwt?(Object(o["q"])(),Object(o["d"])("div",Le,[Object(o["h"])("ul",null,[Object(o["h"])(c,{to:"/profil/"+e.user.username.toLowerCase()},{default:we((function(){return[Ce,Se]})),_:1},8,["to"]),Object(o["h"])(c,{to:"/compte/infos"},{default:we((function(){return[Ae,Fe]})),_:1}),Object(o["h"])(c,{to:"/compte/prods"},{default:we((function(){return[Ie,Te]})),_:1}),Object(o["h"])("li",{onClick:t[5]||(t[5]=function(){return n.logout&&n.logout.apply(n,arguments)})},[Re,Ue])])])):Object(o["e"])("",!0)])]),Be])})),De={computed:Object(C["a"])(Object(C["a"])({},Object(z["c"])(["jwt","user"])),Object(z["b"])("global",{apiRoot:"getApiRoot"})),methods:{showSignUpModal:function(){var e=this,t=document.querySelector(".sign-up-modal"),r=document.querySelector(".sign-up-modal__content");r.classList.add("animate__animated","animate__slideInDown","animate__faster"),t.classList.add("active"),t.classList.contains("active")&&window.addEventListener("click",(function(r){if(r.target!==t)return!1;t.classList.remove("active"),e.$store.commit("signUpModal/resetForm")}))},showSignInModal:function(){var e=this,t=document.querySelector(".sign-in-modal"),r=document.querySelector(".sign-in-modal__content");r.classList.add("animate__animated","animate__slideInDown","animate__faster"),t.classList.add("active"),t.classList.contains("active")&&window.addEventListener("click",(function(r){if(r.target!==t)return!1;t.classList.remove("active"),e.$store.dispatch("signInModal/resetForm")}))},showDropdownMenu:function(e){var t=e.currentTarget,r=document.querySelector(".navbar__user-profile-dropdown-menu"),o=document.querySelector(".icon-chevron-down--profile-dropdown-btn");t.classList.toggle("active"),t.classList.contains("active")?(o.style.transform="rotate(180deg)",r.style.display="block",window.addEventListener("click",(function(e){e.target!==t&&(t.classList.remove("active"),o.style.transform="rotate(0)",r.style.display="none")}))):(o.style.transform="rotate(0)",r.style.display="none")},logout:function(){localStorage.removeItem("jwt"),localStorage.removeItem("user"),this.$store.dispatch("setToken",null),this.$store.dispatch("setUser",null),this.$router.push("/")}}};r("72a8");De.render=Ve,De.__scopeId="data-v-425994f3";var $e=De,ze=Object(o["G"])("data-v-7b251c1d");Object(o["t"])("data-v-7b251c1d");var Ne={class:"social"},Ge=Object(o["h"])("li",{class:"social__item"},[Object(o["h"])("a",{href:"#",target:"_blank",rel:"noopener"},[Object(o["h"])("svg",{class:"icon icon-twitter"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-twitter"})])])],-1),He=Object(o["h"])("li",{class:"social__item"},[Object(o["h"])("a",{href:"#",target:"_blank",rel:"noopener"},[Object(o["h"])("svg",{class:"icon icon-facebook"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-facebook"})])])],-1),Je=Object(o["h"])("li",{class:"social__item"},[Object(o["h"])("a",{href:"#",target:"_blank",rel:"noopener"},[Object(o["h"])("svg",{class:"icon icon-instagram"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-instagram"})])])],-1),Ye=Object(o["h"])("li",{class:"social__item"},[Object(o["h"])("a",{href:"#",target:"_blank",rel:"noopener"},[Object(o["h"])("svg",{class:"icon icon-youtube"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-youtube"})])])],-1);Object(o["r"])();var Ke=ze((function(e,t){return Object(o["q"])(),Object(o["d"])("ul",Ne,[Ge,He,Je,Ye])}));r("b138");const Ze={};Ze.render=Ke,Ze.__scopeId="data-v-7b251c1d";var Qe=Ze,We=(r("841c"),Object(o["G"])("data-v-260117c2"));Object(o["t"])("data-v-260117c2");var Xe={class:"content-container"},et={class:"content"},tt=Object(o["h"])("h1",null," Phrase d'accroche importante pour le référencement ",-1),rt=Object(o["h"])("button",{type:"submit"},[Object(o["h"])("svg",{class:"icon icon-search"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-search"})])],-1);Object(o["r"])();var ot=We((function(e,t,r,s,a,n){return Object(o["q"])(),Object(o["d"])("div",Xe,[Object(o["h"])("div",et,[tt,Object(o["h"])("form",{class:"searchbar",onSubmit:t[2]||(t[2]=Object(o["F"])((function(){return n.search&&n.search.apply(n,arguments)}),["prevent"]))},[rt,Object(o["E"])(Object(o["h"])("input",{type:"text",name:"",spellcheck:"false",class:"searchbar-input",placeholder:"Que recherchez-vous ?","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.searchValue=e})},null,512),[[o["C"],a.searchValue]])],32)])])})),st={data:function(){return{searchValue:null}},methods:{search:function(){var e={path:"/prods",query:{search:this.searchValue}};this.$router.push(e)}}};r("1fc7");st.render=ot,st.__scopeId="data-v-260117c2";var at=st,nt=Object(o["G"])("data-v-122dd4dc");Object(o["t"])("data-v-122dd4dc");var ct={class:"scroll-cta"},it=Object(o["h"])("div",{class:"chevron"},null,-1),lt=Object(o["h"])("div",{class:"chevron"},null,-1),dt=Object(o["h"])("div",{class:"chevron"},null,-1);Object(o["r"])();var ut=nt((function(e,t){return Object(o["q"])(),Object(o["d"])("div",ct,[it,lt,dt])}));r("af0a");const pt={};pt.render=ut,pt.__scopeId="data-v-122dd4dc";var bt=pt,ht={components:{"app-navbar":$e,"app-social":Qe,"app-search":at,"app-scroll-cta":bt}};r("2ef2");ht.render=ye,ht.__scopeId="data-v-c347da28";var mt=ht,ft=(r("5319"),Object(o["G"])("data-v-5d205cb4"));Object(o["t"])("data-v-5d205cb4");var jt={class:"previews"},Ot={class:"section-title"},vt=Object(o["h"])("h2",{class:"news"},"Derniers ajouts",-1),gt=Object(o["g"])("Tout voir"),yt={class:"cards"},wt={key:0,class:"no-results"},kt={class:"image"},_t=Object(o["h"])("svg",{class:"icon icon-controller-play"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-controller-play"})],-1),xt=Object(o["h"])("svg",{class:"icon icon-pause"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-pause"})],-1),Et={class:"audio"},qt={class:"bottom"},Mt={class:"infos"},Pt={class:"title"},Lt={class:"author"},Ct={key:0,class:"max-streams"},St={key:1,class:"max-streams"},At={class:"format"},Ft={class:"btn btn--buy"},It=Object(o["h"])("svg",{class:"icon icon-shopping-cart"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-shopping-cart"})],-1),Tt=Object(o["g"])("Tout voir");Object(o["r"])();var Rt=ft((function(e,t,r,s,a,n){var c=Object(o["x"])("router-link"),i=Object(o["x"])("app-player");return Object(o["q"])(),Object(o["d"])("section",jt,[Object(o["h"])("div",Ot,[vt,Object(o["h"])(c,{to:"/prods",class:"btn btn--see-all"},{default:ft((function(){return[gt]})),_:1})]),Object(o["h"])("div",yt,[a.noResults?(Object(o["q"])(),Object(o["d"])("div",wt," Aucun résultat trouvé ")):Object(o["e"])("",!0),(Object(o["q"])(!0),Object(o["d"])(o["a"],null,Object(o["w"])(a.latestProds,(function(r,s){return Object(o["q"])(),Object(o["d"])("div",{class:"card",key:s},[Object(o["h"])("div",kt,[Object(o["h"])("img",{src:e.apiRoot+"prods/images/"+r.cover,draggable:"false",alt:""},null,8,["src"]),Object(o["h"])("button",{class:"btn btn--play",onClick:t[1]||(t[1]=function(){return n.play&&n.play.apply(n,arguments)})},[_t,xt]),Object(o["h"])("audio",Et,[Object(o["h"])("source",{src:e.apiRoot+"prods/song/"+r.song,type:"audio/mpeg"},null,8,["src"]),Object(o["h"])("source",{src:e.apiRoot+"prods/song/"+r.song,type:"audio/wav"},null,8,["src"])])]),Object(o["h"])("div",qt,[Object(o["h"])("div",Mt,[Object(o["h"])("div",Pt,Object(o["A"])(r.title),1),Object(o["h"])("div",Lt,[Object(o["h"])(c,{class:"author-profile-link",to:"/profil/"+r.artist.toLowerCase()},{default:ft((function(){return[Object(o["g"])(Object(o["A"])(r.artist),1)]})),_:2},1032,["to"])]),r.maxStreams?(Object(o["q"])(),Object(o["d"])("div",Ct," Max streams: "+Object(o["A"])(r.maxStreams.replace(/\B(?=(\d{3})+(?!\d))/g," ")),1)):(Object(o["q"])(),Object(o["d"])("div",St,"Max streams: illimité")),Object(o["h"])("span",At,Object(o["A"])(r.format.toUpperCase()),1)]),Object(o["h"])("button",Ft,[Object(o["h"])("span",null,Object(o["A"])(r.price)+"€",1),It])])])})),128))]),Object(o["h"])(c,{to:"/prods",class:"btn btn--see-all--secondary"},{default:ft((function(){return[Tt]})),_:1}),Object(o["h"])(i)])})),Ut=(r("fb6a"),r("b85c")),Bt=r("e0ee"),Vt=r.n(Bt),Dt=Object(o["G"])("data-v-28642069");Object(o["t"])("data-v-28642069");var $t={class:"player"},zt={class:"utils"},Nt=Object(o["h"])("div",{class:"track-infos"},[Object(o["h"])("div",{class:"track-infos__image"},[Object(o["h"])("img",{src:Vt.a,alt:"Couverture du morceau",draggable:"false"})]),Object(o["h"])("div",{class:"track-infos__container"},[Object(o["h"])("div",{class:"track-infos__track-name"},"Titre du morceau"),Object(o["h"])("div",{class:"track-infos__artist-name"},"Artiste")])],-1),Gt={class:"controller"},Ht=Object(o["h"])("svg",{class:"icon icon-controller-jump-to-start"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-controller-jump-to-start"})],-1),Jt=Object(o["h"])("svg",{class:"icon icon-controller-play"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-controller-play"})],-1),Yt=Object(o["h"])("svg",{class:"icon icon-pause"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-pause"})],-1),Kt=Object(o["h"])("svg",{class:"icon icon-controller-next"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-controller-next"})],-1),Zt=Object(o["h"])("svg",{class:"icon icon-loop"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-loop"})],-1),Qt={class:"sound"},Wt=Object(o["h"])("svg",{class:"icon icon-volume-medium"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-volume-medium"})],-1),Xt=Object(o["h"])("svg",{class:"icon icon-volume-mute2"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-volume-mute2"})],-1),er=Object(o["h"])("input",{type:"range",class:"volume",name:"volume",min:"0.0",max:"1.0",step:"any"},null,-1);Object(o["r"])();var tr=Dt((function(e,t){return Object(o["q"])(),Object(o["d"])("div",$t,[Object(o["h"])("div",zt,[Nt,Object(o["h"])("div",Gt,[Object(o["h"])("button",{class:"btn btn--previous-track",onClick:t[1]||(t[1]=function(){return e.previous&&e.previous.apply(e,arguments)})},[Ht]),Object(o["h"])("button",{class:"btn btn--play2",onClick:t[2]||(t[2]=function(){return e.play&&e.play.apply(e,arguments)})},[Jt,Yt]),Object(o["h"])("button",{class:"btn btn--next-track",onClick:t[3]||(t[3]=function(){return e.next&&e.next.apply(e,arguments)})},[Kt]),Object(o["h"])("button",{class:"btn btn--loop",onClick:t[4]||(t[4]=function(){return e.loop&&e.loop.apply(e,arguments)})},[Zt])]),Object(o["h"])("div",Qt,[Object(o["h"])("button",{class:"btn btn--sound",onClick:t[5]||(t[5]=function(){return e.mute&&e.mute.apply(e,arguments)})},[Wt,Xt]),er])])])}));r("db9b");const rr={};rr.render=tr,rr.__scopeId="data-v-28642069";var or=rr,sr={data:function(){return{latestProds:null,noResults:null}},computed:Object(C["a"])({},Object(z["b"])("global",{apiRoot:"getApiRoot"})),components:{"app-player":or},methods:{play:function(e){document.querySelector(".player").classList.add("playing"),document.querySelector(".btn--play2").classList.add("playing");var t,r=e.currentTarget.nextSibling,o=document.querySelectorAll(".btn--play"),s=e.currentTarget.classList.contains("active"),a=Object(Ut["a"])(o);try{for(a.s();!(t=a.n()).done;){var n=t.value;n.classList.contains("active")&&(n.classList.remove("active"),n.nextSibling.pause()),n!==e.currentTarget&&(n.nextSibling.currentTime=0)}}catch(c){a.e(c)}finally{a.f()}s?(e.currentTarget.classList.remove("active"),document.querySelector(".btn--play2").classList.remove("playing"),r.pause()):(e.currentTarget.classList.add("active"),r.play(),document.querySelector(".btn--sound").classList.contains("active")&&(r.muted=!0))}},created:function(){var e=this;D.a.get(this.apiRoot+"prods").then((function(t){var r=t.data;0===r.length?e.noResults=!0:e.noResults=!1;var o=r.sort((function(e,t){return t.createdAt>e.createdAt?1:-1})),s=o.slice(0,5);e.latestProds=s})).catch((function(e){console.log(e)}))}};r("cbb4");sr.render=Rt,sr.__scopeId="data-v-5d205cb4";var ar=sr,nr=Object(o["G"])("data-v-16e1b21a");Object(o["t"])("data-v-16e1b21a");var cr={class:"footer"},ir=Object(o["h"])("a",{href:"#",class:"legal-notices-link"},"Mentions légales",-1);Object(o["r"])();var lr=nr((function(e,t,r,s,a,n){return Object(o["q"])(),Object(o["d"])("footer",cr,[Object(o["g"])(" © "+Object(o["A"])(a.copyrightYear)+" Propriétaire(s) du site — ",1),ir])})),dr={data:function(){return{copyrightYear:(new Date).getFullYear()}}};r("768c");dr.render=lr,dr.__scopeId="data-v-16e1b21a";var ur=dr,pr={components:{"app-header":mt,"app-previews":ar,"app-footer":ur}};r("7fa3");pr.render=je;var br=pr,hr=Object(o["G"])("data-v-b98a0550");Object(o["t"])("data-v-b98a0550");var mr={class:"prods"};Object(o["r"])();var fr=hr((function(e,t,r,s,a,n){var c=Object(o["x"])("app-navbar"),i=Object(o["x"])("app-prods-list"),l=Object(o["x"])("app-player"),d=Object(o["x"])("app-footer");return Object(o["q"])(),Object(o["d"])("section",mr,[Object(o["h"])(c),Object(o["h"])(i),Object(o["h"])(l),Object(o["h"])(d)])})),jr=Object(o["G"])("data-v-dda2c018");Object(o["t"])("data-v-dda2c018");var Or={class:"prods-list"},vr=Object(o["h"])("h1",{class:"title"},"Prods",-1),gr={class:"utils-container"},yr={class:"search-filter"},wr={class:"searchbar"},kr=Object(o["h"])("button",{class:"btn btn--search"},[Object(o["h"])("svg",{class:"icon icon-search"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-search"})])],-1),_r=Object(o["g"])(" Filtrer "),xr=Object(o["h"])("svg",{class:"icon icon-funnel"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-funnel"})],-1),Er={class:"sort-by"},qr=Object(o["g"])(" Trier par "),Mr=Object(o["h"])("svg",{class:"icon icon-chevron-down"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-chevron-down"})],-1),Pr={class:"sort-by-content "},Lr=Object(o["h"])("li",null,"Les meilleures ventes",-1),Cr={class:"filter-modal"},Sr={class:"filter-modal-content animate__animated animate__zoomIn animate__faster"},Ar=Object(o["h"])("svg",{class:"icon icon-cross"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-cross"})],-1),Fr={class:"filter-modal-genre"},Ir=Object(o["f"])('<h3 class="filter-modal-genre__title" data-v-dda2c018>Genres</h3><label for="all" data-v-dda2c018><input type="radio" class="genre-radio" name="genre" id="all" checked value="all" data-v-dda2c018> Tous </label><label for="hip-hop" data-v-dda2c018><input type="radio" class="genre-radio" name="genre" id="hip-hop" value="hip-hop" data-v-dda2c018> Hip Hop </label><label for="pop" data-v-dda2c018><input type="radio" class="genre-radio" name="genre" id="pop" value="pop" data-v-dda2c018> Pop </label><label for="rnb" data-v-dda2c018><input type="radio" class="genre-radio" name="genre" id="rnb" value="rnb" data-v-dda2c018> R&amp;B </label><label for="rock" data-v-dda2c018><input type="radio" class="genre-radio" name="genre" id="rock" value="rock" data-v-dda2c018> Rock </label>',6),Tr={class:"cards"},Rr={key:0,class:"no-results"},Ur={class:"image"},Br=Object(o["h"])("svg",{class:"icon icon-controller-play"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-controller-play"})],-1),Vr=Object(o["h"])("svg",{class:"icon icon-pause"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-pause"})],-1),Dr={class:"audio"},$r={class:"bottom"},zr={class:"infos"},Nr={class:"title"},Gr={class:"author"},Hr={key:0,class:"max-streams"},Jr={key:1,class:"max-streams"},Yr={class:"format"},Kr=Object(o["h"])("svg",{class:"icon icon-shopping-cart"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-shopping-cart"})],-1);Object(o["r"])();var Zr=jr((function(e,t,r,s,a,n){var c=Object(o["x"])("router-link");return Object(o["q"])(),Object(o["d"])("div",Or,[vr,Object(o["h"])("div",gr,[Object(o["h"])("div",yr,[Object(o["h"])("div",wr,[kr,Object(o["h"])("input",{type:"text",name:"",spellcheck:"false",class:"searchbar-input",placeholder:"Rechercher",onKeyup:t[1]||(t[1]=function(){return n.searchProd&&n.searchProd.apply(n,arguments)})},null,32)]),Object(o["h"])("button",{class:"btn btn--filter",onClick:t[2]||(t[2]=function(){return n.showFilterModal&&n.showFilterModal.apply(n,arguments)})},[_r,xr])]),Object(o["h"])("div",Er,[Object(o["h"])("button",{class:"btn btn--sort-by",onClick:t[3]||(t[3]=function(){return n.showDropdownMenu&&n.showDropdownMenu.apply(n,arguments)})},[qr,Mr]),Object(o["h"])("div",Pr,[Object(o["h"])("ul",null,[Lr,Object(o["h"])("li",{onClick:t[4]||(t[4]=function(){return n.sortByLatest&&n.sortByLatest.apply(n,arguments)})},"Les plus récents"),Object(o["h"])("li",{onClick:t[5]||(t[5]=function(){return n.sortByOldest&&n.sortByOldest.apply(n,arguments)})},"Les plus anciens")])])])]),Object(o["h"])("div",Cr,[Object(o["h"])("div",Sr,[Object(o["h"])("button",{class:"btn btn--close-modal",onClick:t[6]||(t[6]=function(){return n.closeFilterModal&&n.closeFilterModal.apply(n,arguments)})},[Ar]),Object(o["h"])("div",Fr,[Ir,Object(o["h"])("button",{class:"btn btn--apply-filter",onClick:t[7]||(t[7]=function(){return n.applyFilter&&n.applyFilter.apply(n,arguments)})}," Appliquer ")])])]),Object(o["h"])("div",Tr,[a.noResults?(Object(o["q"])(),Object(o["d"])("div",Rr," Aucun résultat trouvé ")):Object(o["e"])("",!0),(Object(o["q"])(!0),Object(o["d"])(o["a"],null,Object(o["w"])(a.prods,(function(r,s){return Object(o["q"])(),Object(o["d"])("div",{class:"card",key:s},[Object(o["h"])("div",Ur,[Object(o["h"])("img",{src:e.apiRoot+"prods/images/"+r.cover,draggable:"false",alt:"Couverture du morceau"},null,8,["src"]),Object(o["h"])("button",{class:"btn btn--play",onClick:t[8]||(t[8]=function(){return n.play&&n.play.apply(n,arguments)})},[Br,Vr]),Object(o["h"])("audio",Dr,[Object(o["h"])("source",{src:e.apiRoot+"prods/song/"+r.song,type:"audio/mpeg"},null,8,["src"]),Object(o["h"])("source",{src:e.apiRoot+"prods/song/"+r.song,type:"audio/wav"},null,8,["src"])])]),Object(o["h"])("div",$r,[Object(o["h"])("div",zr,[Object(o["h"])("div",Nr,Object(o["A"])(r.title),1),Object(o["h"])("div",Gr,[Object(o["h"])(c,{class:"author-profile-link",to:"/profil/"+r.artist.toLowerCase()},{default:jr((function(){return[Object(o["g"])(Object(o["A"])(r.artist),1)]})),_:2},1032,["to"])]),r.maxStreams?(Object(o["q"])(),Object(o["d"])("div",Hr," Max streams: "+Object(o["A"])(r.maxStreams.replace(/\B(?=(\d{3})+(?!\d))/g," ")),1)):(Object(o["q"])(),Object(o["d"])("div",Jr,"Max streams: illimité")),Object(o["h"])("span",Yr,Object(o["A"])(r.format.toUpperCase()),1)]),Object(o["h"])("button",{class:"btn btn--buy",onClick:t[9]||(t[9]=function(){return e.buyProd&&e.buyProd.apply(e,arguments)})},[Object(o["h"])("span",null,Object(o["A"])(r.price)+"€",1),Kr])])])})),128))])])})),Qr=(r("4de4"),r("caad"),r("d3b7"),r("2532"),{data:function(){return{prods:null,noResults:!1}},computed:Object(C["a"])({},Object(z["b"])("global",{apiRoot:"getApiRoot"})),methods:{showDropdownMenu:function(){var e=this,t=document.querySelector(".btn--sort-by"),r=document.querySelector(".sort-by-content"),o=document.querySelector(".icon-chevron-down");t.classList.toggle("active"),t.classList.contains("active")?(o.style.transform="rotate(180deg)",r.style.display="block",window.addEventListener("click",(function(s){s.target!==t&&e.hideDropdownMenu(t,r,o)}))):(o.style.transform="rotate(0)",r.style.display="none")},hideDropdownMenu:function(e,t,r){e.classList.remove("active"),r.style.transform="rotate(0)",t.style.display="none"},hideModal:function(){var e=document.querySelector(".filter-modal");e.classList.remove("active")},searchProd:function(e){var t=this,r=e.target.value.toLowerCase();D.a.get(this.apiRoot+"prods").then((function(e){var o=e.data,s=o.filter((function(e){return e.title.toLowerCase().includes(r)||e.artist.toLowerCase().includes(r)||e.tags.toString().toLowerCase().includes(r)}));0===s.length?(t.noResults=!0,document.querySelector(".player").classList.remove("playing")):t.noResults=!1,t.prods=s})).catch((function(e){console.log(e)}))},showFilterModal:function(){var e=this,t=document.querySelector(".filter-modal");t.classList.add("active"),t.classList.contains("active")&&window.addEventListener("click",(function(r){r.target==t&&e.hideModal()}))},applyFilter:function(){var e=this;this.closeFilterModal();var t,r=document.querySelectorAll(".genre-radio"),o=Object(Ut["a"])(r);try{var s=function(){var r=t.value;r.checked&&("all"!==r.value?D.a.get(e.apiRoot+"prods",{params:{search:e.searchParams}}).then((function(t){var o=t.data,s=o.filter((function(e){return e.tags.includes(r.value)}));e.prods=s,0===s.length?(e.noResults=!0,document.querySelector(".player").classList.remove("playing")):e.noResults=!1})).catch((function(e){console.log(e)})):D.a.get(e.apiRoot+"prods").then((function(t){var r=t.data;0===r.length?e.noResults=!0:e.noResults=!1,e.prods=r})).catch((function(e){console.log(e)})))};for(o.s();!(t=o.n()).done;)s()}catch(a){o.e(a)}finally{o.f()}},closeFilterModal:function(){var e=document.querySelector(".filter-modal");e.classList.remove("active")},sortByLatest:function(){var e=this;D.a.get(this.apiRoot+"prods").then((function(t){var r=t.data;0===r.length?e.noResults=!0:e.noResults=!1;var o=r.sort((function(e,t){return t.createdAt>e.createdAt?1:-1}));e.prods=o})).catch((function(e){console.log(e)}))},sortByOldest:function(){var e=this;D.a.get(this.apiRoot+"prods").then((function(t){var r=t.data;0===r.length?e.noResults=!0:e.noResults=!1;var o=r.sort((function(e,t){return e.createdAt>t.createdAt?1:-1}));e.prods=o})).catch((function(e){console.log(e)}))},play:function(e){document.querySelector(".player").classList.add("playing"),document.querySelector(".btn--play2").classList.add("playing");var t,r=e.currentTarget.nextSibling,o=document.querySelectorAll(".btn--play"),s=e.currentTarget.classList.contains("active"),a=Object(Ut["a"])(o);try{for(a.s();!(t=a.n()).done;){var n=t.value;n.classList.contains("active")&&(n.classList.remove("active"),n.nextSibling.pause()),n!==e.currentTarget&&(n.nextSibling.currentTime=0)}}catch(c){a.e(c)}finally{a.f()}s?(e.currentTarget.classList.remove("active"),document.querySelector(".btn--play2").classList.remove("playing"),r.pause()):(e.currentTarget.classList.add("active"),r.play(),document.querySelector(".btn--sound").classList.contains("active")&&(r.muted=!0))}},created:function(){var e=this;D.a.get(this.apiRoot+"prods",{params:{search:this.$route.query.search}}).then((function(t){var r=t.data;0===r.length?e.noResults=!0:e.noResults=!1,e.prods=r})).catch((function(e){console.log(e)}))}});r("6934");Qr.render=Zr,Qr.__scopeId="data-v-dda2c018";var Wr=Qr,Xr={components:{"app-navbar":$e,"app-prods-list":Wr,"app-player":or,"app-footer":ur}};r("5e90");Xr.render=fr,Xr.__scopeId="data-v-b98a0550";var eo=Xr,to=(r("a4d3"),r("e01a"),Object(o["G"])("data-v-e8b6a7c8"));Object(o["t"])("data-v-e8b6a7c8");var ro={key:0,class:"profile"},oo={class:"container"},so={class:"profile__username"},ao={class:"profile__member-since"},no={key:0,class:"profile__description"},co={class:"profile__social-links"},io={key:0,class:"profile__social-link"},lo=Object(o["h"])("svg",{class:"icon icon-soundcloud"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-soundcloud"})],-1),uo={key:1,class:"profile__social-link"},po=Object(o["h"])("svg",{class:"icon icon-instagram"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-instagram"})],-1),bo={key:2,class:"profile__social-link"},ho=Object(o["h"])("svg",{class:"icon icon-youtube"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-youtube"})],-1),mo={key:3,class:"profile__social-link"},fo=Object(o["h"])("svg",{class:"icon icon-twitter"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-twitter"})],-1),jo={key:4,class:"profile__social-link"},Oo=Object(o["h"])("svg",{class:"icon icon-facebook"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-facebook"})],-1),vo={key:1,class:"profile__my-infos"},go=Object(o["g"])("Modifier mes informations"),yo={key:0,class:"mt-10"},wo=Object(o["g"])("Gérer mes prods "),ko={key:1,class:"utils-container"},_o={class:"search-filter"},xo={class:"searchbar"},Eo=Object(o["h"])("button",{class:"btn btn--search"},[Object(o["h"])("svg",{class:"icon icon-search"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-search"})])],-1),qo={class:"sort-by"},Mo=Object(o["g"])(" Trier par "),Po=Object(o["h"])("svg",{class:"icon icon-chevron-down"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-chevron-down"})],-1),Lo={class:"sort-by-content "},Co=Object(o["h"])("li",null,"Les meilleures ventes",-1),So={class:"cards"},Ao={key:0,class:"no-result"},Fo={key:1,class:"no-result"},Io={key:2,class:"no-prod"},To=Object(o["h"])("p",{class:"no-prod__message"}," Vous n'avez aucune prod à présenter pour le moment ",-1),Ro=Object(o["h"])("svg",{class:"icon icon-plus"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-plus"})],-1),Uo=Object(o["g"])(" Ajouter une prod "),Bo={class:"image"},Vo=Object(o["h"])("svg",{class:"icon icon-controller-play"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-controller-play"})],-1),Do=Object(o["h"])("svg",{class:"icon icon-pause"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-pause"})],-1),$o={class:"audio"},zo={class:"bottom"},No={class:"infos"},Go={class:"title"},Ho={class:"author"},Jo={key:0,class:"max-streams"},Yo={key:1,class:"max-streams"},Ko={class:"format"},Zo=Object(o["h"])("svg",{class:"icon icon-shopping-cart"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-shopping-cart"})],-1);Object(o["r"])();var Qo=to((function(e,t,r,s,a,n){var c=Object(o["x"])("app-navbar"),i=Object(o["x"])("router-link"),l=Object(o["x"])("app-player"),d=Object(o["x"])("app-footer");return a.user?(Object(o["q"])(),Object(o["d"])("div",ro,[Object(o["h"])(c),Object(o["h"])("div",oo,[Object(o["h"])("img",{class:"profile__image",src:e.apiRoot+"user/profile_picture/"+a.user.profilePicture,alt:"Image de profil"},null,8,["src"]),Object(o["h"])("div",so,Object(o["A"])(a.user.username),1),Object(o["h"])("div",ao," Membre depuis le "+Object(o["A"])(n.accountCreationDate),1),a.user.description?(Object(o["q"])(),Object(o["d"])("p",no,Object(o["A"])(a.user.description),1)):Object(o["e"])("",!0),Object(o["h"])("ul",co,[a.user.soundcloud?(Object(o["q"])(),Object(o["d"])("li",io,[Object(o["h"])("a",{href:a.user.soundcloud,target:"_blank",rel:"noopener"},[lo],8,["href"])])):Object(o["e"])("",!0),a.user.instagram?(Object(o["q"])(),Object(o["d"])("li",uo,[Object(o["h"])("a",{href:a.user.instagram,target:"_blank",rel:"noopener"},[po],8,["href"])])):Object(o["e"])("",!0),a.user.youtube?(Object(o["q"])(),Object(o["d"])("li",bo,[Object(o["h"])("a",{href:a.user.youtube,target:"_blank",rel:"noopener"},[ho],8,["href"])])):Object(o["e"])("",!0),a.user.twitter?(Object(o["q"])(),Object(o["d"])("li",mo,[Object(o["h"])("a",{href:a.user.twitter,target:"_blank",rel:"noopener"},[fo],8,["href"])])):Object(o["e"])("",!0),a.user.facebook?(Object(o["q"])(),Object(o["d"])("li",jo,[Object(o["h"])("a",{href:a.user.facebook,target:"_blank",rel:"noopener"},[Oo],8,["href"])])):Object(o["e"])("",!0)]),e.sessionUser&&a.user.username===e.sessionUser.username?(Object(o["q"])(),Object(o["d"])("div",vo,[Object(o["h"])(i,{to:"/compte/infos"},{default:to((function(){return[go]})),_:1})])):Object(o["e"])("",!0)]),a.noProd?Object(o["e"])("",!0):(Object(o["q"])(),Object(o["d"])("div",yo,[!a.noProd&&e.sessionUser&&a.user.username===e.sessionUser.username?(Object(o["q"])(),Object(o["d"])(i,{key:0,to:"/compte/prods",class:"btn btn--manage-prods"},{default:to((function(){return[wo]})),_:1})):Object(o["e"])("",!0),a.noProd?Object(o["e"])("",!0):(Object(o["q"])(),Object(o["d"])("div",ko,[Object(o["h"])("div",_o,[Object(o["h"])("div",xo,[Eo,Object(o["h"])("input",{type:"text",name:"",spellcheck:"false",class:"searchbar-input",placeholder:"Rechercher",onKeyup:t[1]||(t[1]=function(){return n.searchProd&&n.searchProd.apply(n,arguments)})},null,32)])]),Object(o["h"])("div",qo,[Object(o["h"])("button",{class:"btn btn--sort-by",onClick:t[2]||(t[2]=function(){return n.showDropdownMenu&&n.showDropdownMenu.apply(n,arguments)})},[Mo,Po]),Object(o["h"])("div",Lo,[Object(o["h"])("ul",null,[Co,Object(o["h"])("li",{onClick:t[3]||(t[3]=function(){return n.sortByLatest&&n.sortByLatest.apply(n,arguments)})},"Les plus récents"),Object(o["h"])("li",{onClick:t[4]||(t[4]=function(){return n.sortByOldest&&n.sortByOldest.apply(n,arguments)})},"Les plus anciens")])])])]))])),Object(o["h"])("div",So,[a.noResult?(Object(o["q"])(),Object(o["d"])("div",Ao," Aucun résultat ")):Object(o["e"])("",!0),a.noProd&&e.sessionUser&&a.user.username!==e.sessionUser.username||a.noProd&&!e.sessionUser?(Object(o["q"])(),Object(o["d"])("div",Fo,Object(o["A"])(a.user.username)+" n'a aucune prod à présenter pour le moment ",1)):Object(o["e"])("",!0),a.noProd&&e.sessionUser&&a.user.username===e.sessionUser.username?(Object(o["q"])(),Object(o["d"])("div",Io,[To,Object(o["h"])(i,{to:"/compte/prods/ajouter",class:"btn btn--add-prod"},{default:to((function(){return[Ro,Uo]})),_:1})])):Object(o["e"])("",!0),(Object(o["q"])(!0),Object(o["d"])(o["a"],null,Object(o["w"])(a.prods,(function(r,s){return Object(o["q"])(),Object(o["d"])("div",{class:"card",key:s},[Object(o["h"])("div",Bo,[Object(o["h"])("img",{src:e.apiRoot+"prods/images/"+r.cover,draggable:"false",alt:"Couverture de la prod"},null,8,["src"]),Object(o["h"])("button",{class:"btn btn--play",onClick:t[5]||(t[5]=function(){return n.play&&n.play.apply(n,arguments)})},[Vo,Do]),Object(o["h"])("audio",$o,[Object(o["h"])("source",{src:e.apiRoot+"prods/song/"+r.song,type:"audio/mpeg"},null,8,["src"]),Object(o["h"])("source",{src:e.apiRoot+"prods/song/"+r.song,type:"audio/wav"},null,8,["src"])])]),Object(o["h"])("div",zo,[Object(o["h"])("div",No,[Object(o["h"])("div",Go,Object(o["A"])(r.title),1),Object(o["h"])("div",Ho,[Object(o["h"])(i,{class:"author-profile-link",to:"/profil/"+r.artist.toLowerCase()},{default:to((function(){return[Object(o["g"])(Object(o["A"])(r.artist),1)]})),_:2},1032,["to"])]),r.maxStreams?(Object(o["q"])(),Object(o["d"])("div",Jo," Max streams: "+Object(o["A"])(r.maxStreams.replace(/\B(?=(\d{3})+(?!\d))/g," ")),1)):(Object(o["q"])(),Object(o["d"])("div",Yo,"Max streams: illimité")),Object(o["h"])("span",Ko,Object(o["A"])(r.format.toUpperCase()),1)]),Object(o["h"])("button",{class:"btn btn--buy",onClick:t[6]||(t[6]=function(){return e.buyProd&&e.buyProd.apply(e,arguments)})},[Object(o["h"])("span",null,Object(o["A"])(r.price)+"€",1),Zo])])])})),128))]),Object(o["h"])(l),Object(o["h"])(d)])):Object(o["e"])("",!0)})),Wo={components:{"app-navbar":$e,"app-player":or,"app-footer":ur},data:function(){return{user:"",prods:null,noProd:null,noResult:null}},computed:Object(C["a"])(Object(C["a"])(Object(C["a"])({},Object(z["c"])({sessionUser:"user"})),Object(z["b"])("global",{apiRoot:"getApiRoot"})),{},{accountCreationDate:function(){var e=new Date(this.user.createdAt);return e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear()}}),methods:{showDropdownMenu:function(){var e=this,t=document.querySelector(".btn--sort-by"),r=document.querySelector(".sort-by-content"),o=document.querySelector(".icon-chevron-down");t.classList.toggle("active"),t.classList.contains("active")?(o.style.transform="rotate(180deg)",r.style.display="block",window.addEventListener("click",(function(s){s.target!==t&&e.hideDropdownMenu(t,r,o)}))):(o.style.transform="rotate(0)",r.style.display="none")},hideDropdownMenu:function(e,t,r){e.classList.remove("active"),r.style.transform="rotate(0)",t.style.display="none"},sortByLatest:function(){var e=this;D.a.get(this.apiRoot+"prods/"+this.$route.params.username).then((function(t){var r=t.data,o=r.sort((function(e,t){return t.createdAt>e.createdAt?1:-1}));e.prods=o})).catch((function(e){console.log(e)}))},sortByOldest:function(){var e=this;D.a.get(this.apiRoot+"prods/"+this.$route.params.username).then((function(t){var r=t.data,o=r.sort((function(e,t){return e.createdAt>t.createdAt?1:-1}));e.prods=o})).catch((function(e){console.log(e)}))},searchProd:function(e){var t=this,r=e.target.value.toLowerCase();D.a.get(this.apiRoot+"prods/"+this.$route.params.username).then((function(e){var o=e.data,s=o.filter((function(e){return e.title.toLowerCase().includes(r)||e.tags.toString().toLowerCase().includes(r)}));0===s.length?(t.noResult=!0,document.querySelector(".player").classList.remove("playing")):t.noResult=!1,t.prods=s})).catch((function(e){console.log(e)}))},play:function(e){document.querySelector(".player").classList.add("playing"),document.querySelector(".btn--play2").classList.add("playing");var t,r=e.currentTarget.nextSibling,o=document.querySelectorAll(".btn--play"),s=e.currentTarget.classList.contains("active"),a=Object(Ut["a"])(o);try{for(a.s();!(t=a.n()).done;){var n=t.value;n.classList.contains("active")&&(n.classList.remove("active"),n.nextSibling.pause()),n!==e.currentTarget&&(n.nextSibling.currentTime=0)}}catch(c){a.e(c)}finally{a.f()}s?(e.currentTarget.classList.remove("active"),document.querySelector(".btn--play2").classList.remove("playing"),r.pause()):(e.currentTarget.classList.add("active"),r.play(),document.querySelector(".btn--sound").classList.contains("active")&&(r.muted=!0))}},created:function(){var e=this;D.a.get(this.apiRoot+"users/"+this.$route.params.username).then((function(t){return e.user=t.data})).catch((function(e){return console.log(e)})),D.a.get(this.apiRoot+"prods/"+this.$route.params.username).then((function(t){var r=t.data;0===r.length?e.noProd=!0:e.noProd=!1,e.prods=r})).catch((function(e){return console.log(e)}))}};r("91dc");Wo.render=Qo,Wo.__scopeId="data-v-e8b6a7c8";var Xo=Wo,es=Object(o["G"])("data-v-36070316");Object(o["t"])("data-v-36070316");var ts={class:"my-prods"},rs={key:1,class:"confirm-modal animate__animated animate__fadeIn animate__faster"},os={class:"confirm-modal__content"},ss=Object(o["h"])("h3",{class:"confirm-modal__title"},"Supprimer",-1),as=Object(o["h"])("p",{class:"confirm-modal__info"}," Êtes-vous sûr de vouloir supprimer ce morceau ? ",-1),ns={class:"d-flex align-items-center justify-content-center"},cs={class:"confirm-modal__prod-title"},is={class:"confirm-modal__prod-format"},ls={class:"my-prods__container"},ds=Object(o["h"])("svg",{class:"icon icon-plus"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-plus"})],-1),us=Object(o["g"])(" Ajouter une prod "),ps={key:1,class:"utils-container"},bs={class:"search-filter"},hs={class:"searchbar"},ms=Object(o["h"])("button",{class:"btn btn--search"},[Object(o["h"])("svg",{class:"icon icon-search"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-search"})])],-1),fs={class:"sort-by"},js=Object(o["g"])(" Trier par "),Os=Object(o["h"])("svg",{class:"icon icon-chevron-down"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-chevron-down"})],-1),vs={class:"sort-by-content "},gs=Object(o["h"])("li",null,"Les meilleures ventes",-1),ys={key:2,class:"no-prod"},ws=Object(o["h"])("p",{class:"no-prod__message"}," Vous n'avez aucune prod à présenter pour le moment ",-1),ks=Object(o["h"])("svg",{class:"icon icon-plus"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-plus"})],-1),_s=Object(o["g"])(" Ajouter une prod "),xs={key:3,class:"no-result"},Es=Object(o["h"])("thead",null,[Object(o["h"])("th",null,"Couverture"),Object(o["h"])("th",null,"Titre"),Object(o["h"])("th",null,"Format"),Object(o["h"])("th",null,"Tags"),Object(o["h"])("th",null,"Prix"),Object(o["h"])("th",null,"Streams max"),Object(o["h"])("th",{colspan:"2"},"Actions")],-1),qs={"data-label":"Couverture"},Ms={"data-label":"Titre"},Ps={"data-label":"Format"},Ls={class:"format"},Cs={key:0,"data-label":"Tags"},Ss={key:1,"data-label":"Tags"},As={"data-label":"Prix"},Fs={key:2,"data-label":"Streams max"},Is={key:3,"data-label":"Streams max"},Ts={"data-action":"Action"},Rs=Object(o["g"])(" Modifier "),Us=Object(o["h"])("svg",{class:"icon icon-edit"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-edit"})],-1),Bs=Object(o["g"])(" Supprimer "),Vs=Object(o["h"])("svg",{class:"icon icon-bin"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-bin"})],-1);Object(o["r"])();var Ds=es((function(e,t,r,s,a,n){var c=Object(o["x"])("app-navbar"),i=Object(o["x"])("app-roller-spinner"),l=Object(o["x"])("router-link"),d=Object(o["x"])("app-footer");return Object(o["q"])(),Object(o["d"])("div",ts,[Object(o["h"])(c),a.isLoading?(Object(o["q"])(),Object(o["d"])(i,{key:0})):Object(o["e"])("",!0),a.prodToDelete?(Object(o["q"])(),Object(o["d"])("div",rs,[Object(o["h"])("div",os,[ss,as,Object(o["h"])("div",ns,[Object(o["h"])("img",{class:"confirm-modal__prod-img",src:e.apiRoot+"prods/images/"+a.prodToDelete.cover,alt:"Couverture du morceau à supprimer"},null,8,["src"]),Object(o["h"])("div",cs,Object(o["A"])(a.prodToDelete.title),1),Object(o["h"])("span",is,Object(o["A"])(a.prodToDelete.format),1)]),Object(o["h"])("button",{class:"btn confirm-modal__cancel-btn",onClick:t[1]||(t[1]=function(){return n.hideConfirmModal&&n.hideConfirmModal.apply(n,arguments)})}," Annuler "),Object(o["h"])("button",{class:"btn confirm-modal__delete-btn",onClick:t[2]||(t[2]=function(e){return n.deleteProd(a.prodToDelete)})}," Supprimer ")])])):Object(o["e"])("",!0),Object(o["h"])("div",ls,[a.noProd?Object(o["e"])("",!0):(Object(o["q"])(),Object(o["d"])(l,{key:0,to:"/compte/prods/ajouter",class:"btn btn--add-prod"},{default:es((function(){return[ds,us]})),_:1})),a.noProd?Object(o["e"])("",!0):(Object(o["q"])(),Object(o["d"])("div",ps,[Object(o["h"])("div",bs,[Object(o["h"])("div",hs,[ms,Object(o["h"])("input",{type:"text",name:"",spellcheck:"false",class:"searchbar-input",placeholder:"Rechercher",onKeyup:t[3]||(t[3]=function(){return n.searchProd&&n.searchProd.apply(n,arguments)})},null,32)])]),Object(o["h"])("div",fs,[Object(o["h"])("button",{class:"btn btn--sort-by",onClick:t[4]||(t[4]=function(){return n.showDropdownMenu&&n.showDropdownMenu.apply(n,arguments)})},[js,Os]),Object(o["h"])("div",vs,[Object(o["h"])("ul",null,[gs,Object(o["h"])("li",{onClick:t[5]||(t[5]=function(){return n.sortByLatest&&n.sortByLatest.apply(n,arguments)})},"Les plus récents"),Object(o["h"])("li",{onClick:t[6]||(t[6]=function(){return n.sortByOldest&&n.sortByOldest.apply(n,arguments)})},"Les plus anciens")])])])])),a.noProd?(Object(o["q"])(),Object(o["d"])("div",ys,[ws,Object(o["h"])(l,{to:"/compte/prods/ajouter",class:"btn btn--add-prod"},{default:es((function(){return[ks,_s]})),_:1})])):Object(o["e"])("",!0),a.noResult?(Object(o["q"])(),Object(o["d"])("div",xs," Aucun résultat trouvé ")):(Object(o["q"])(!0),Object(o["d"])(o["a"],{key:4},Object(o["w"])(a.prods,(function(t,r){return Object(o["q"])(),Object(o["d"])("table",{class:"table",key:r},[Es,Object(o["h"])("tbody",null,[Object(o["h"])("tr",null,[Object(o["h"])("td",qs,[Object(o["h"])("img",{src:e.apiRoot+"prods/images/"+t.cover,alt:"Couverture de la prod"},null,8,["src"])]),Object(o["h"])("td",Ms,Object(o["A"])(t.title),1),Object(o["h"])("td",Ps,[Object(o["h"])("span",Ls,Object(o["A"])(t.format.toUpperCase()),1)]),0!==t.tags.length?(Object(o["q"])(),Object(o["d"])("td",Cs,[(Object(o["q"])(!0),Object(o["d"])(o["a"],null,Object(o["w"])(t.tags,(function(e,t){return Object(o["q"])(),Object(o["d"])("span",{class:"tag",key:t},Object(o["A"])(e),1)})),128))])):(Object(o["q"])(),Object(o["d"])("td",Ss,"Aucun")),Object(o["h"])("td",As,Object(o["A"])(t.price)+"€",1),t.maxStreams?(Object(o["q"])(),Object(o["d"])("td",Fs,Object(o["A"])(t.maxStreams.replace(/\B(?=(\d{3})+(?!\d))/g," ")),1)):(Object(o["q"])(),Object(o["d"])("td",Is,"Illimité")),Object(o["h"])("td",Ts,[Object(o["h"])(l,{to:"/compte/prods/"+t._id,class:"btn btn--edit"},{default:es((function(){return[Rs,Us]})),_:2},1032,["to"])]),Object(o["h"])("td",null,[Object(o["h"])("button",{class:"btn btn--delete",onClick:function(e){return n.showConfirmModal(t)}},[Bs,Vs],8,["onClick"])])])])])})),128))]),Object(o["h"])(d)])})),$s=Object(o["G"])("data-v-d486e8f2");Object(o["t"])("data-v-d486e8f2");var zs={class:"loading-screen"},Ns=Object(o["h"])("div",{class:"lds-roller"},[Object(o["h"])("div"),Object(o["h"])("div"),Object(o["h"])("div"),Object(o["h"])("div"),Object(o["h"])("div"),Object(o["h"])("div"),Object(o["h"])("div"),Object(o["h"])("div")],-1);Object(o["r"])();var Gs=$s((function(e,t){return Object(o["q"])(),Object(o["d"])("div",zs,[Ns])}));r("6cda");const Hs={};Hs.render=Gs,Hs.__scopeId="data-v-d486e8f2";var Js=Hs,Ys={data:function(){return{prods:null,noResult:null,noProd:null,prodToDelete:null,isLoading:!1}},computed:Object(C["a"])(Object(C["a"])({},Object(z["c"])(["user","jwt"])),Object(z["b"])("global",{apiRoot:"getApiRoot"})),components:{"app-navbar":$e,"app-footer":ur,"app-roller-spinner":Js},methods:{fetchUserProds:function(){var e=this;D.a.get(this.apiRoot+"prods").then((function(t){var r=t.data,o=r.filter((function(t){return t.artist===e.user.username}));e.prods=o,0===e.prods.length?e.noProd=!0:e.noProd=!1})).catch((function(e){return console.log(e)}))},deleteProd:function(e){var t=this;this.isLoading=!0,D.a.delete(this.apiRoot+"prods/"+e._id,{headers:{Authorization:this.jwt}}).then((function(){t.isLoading=!1,t.hideConfirmModal(),t.fetchUserProds()}))},showConfirmModal:function(e){this.prodToDelete=e},hideConfirmModal:function(){var e=document.querySelector(".confirm-modal");e.classList.remove("active"),this.prodToDelete=null},searchProd:function(e){var t=this,r=e.target.value.toLowerCase();D.a.get(this.apiRoot+"prods/"+this.user.username).then((function(e){var o=e.data,s=o.filter((function(e){return e.title.toLowerCase().includes(r)||e.tags.toString().toLowerCase().includes(r)}));0===s.length?t.noResult=!0:t.noResult=!1,t.prods=s})).catch((function(e){console.log(e)}))},showDropdownMenu:function(){var e=this,t=document.querySelector(".btn--sort-by"),r=document.querySelector(".sort-by-content"),o=document.querySelector(".icon-chevron-down");t.classList.toggle("active"),t.classList.contains("active")?(o.style.transform="rotate(180deg)",r.style.display="block",window.addEventListener("click",(function(s){s.target!==t&&e.hideDropdownMenu(t,r,o)}))):(o.style.transform="rotate(0)",r.style.display="none")},hideDropdownMenu:function(e,t,r){e.classList.remove("active"),r.style.transform="rotate(0)",t.style.display="none"},sortByLatest:function(){var e=this;D.a.get(this.apiRoot+"prods/"+this.user.username).then((function(t){var r=t.data,o=r.sort((function(e,t){return t.createdAt>e.createdAt?1:-1}));e.prods=o})).catch((function(e){console.log(e)}))},sortByOldest:function(){var e=this;D.a.get(this.apiRoot+"prods/"+this.user.username).then((function(t){var r=t.data,o=r.sort((function(e,t){return e.createdAt>t.createdAt?1:-1}));e.prods=o})).catch((function(e){console.log(e)}))}},created:function(){this.fetchUserProds()}};r("02a1");Ys.render=Ds,Ys.__scopeId="data-v-36070316";var Ks=Ys,Zs=Object(o["G"])("data-v-68002490");Object(o["t"])("data-v-68002490");var Qs={class:"add-prod"},Ws={class:"container"},Xs=Object(o["h"])("h1",null,"Ajouter une prod",-1),ea={class:"form-group"},ta={key:0,class:"title-error"},ra={class:"form-group"},oa=Object(o["h"])("label",{for:"cover-file"},[Object(o["g"])("Converture "),Object(o["h"])("span",{class:"indicator"},"(optionnel)")],-1),sa=Object(o["h"])("span",{class:"cover-file-custom-txt"},"Aucun fichier selectionné",-1),aa={key:0,class:"cover-file-error"},na={class:"form-group"},ca=Object(o["h"])("label",{for:"audio-file"},[Object(o["g"])("Fichier audio "),Object(o["h"])("span",{class:"indicator"},"(.mp3 ou .wav)")],-1),ia=Object(o["h"])("span",{class:"audio-file-custom-txt"},"Aucun fichier selectionné",-1),la={key:0,class:"audio-file-error"},da={class:"form-group","data-name":"tags-input"},ua=Object(o["h"])("label",{for:"tags"},[Object(o["g"])("Tags "),Object(o["h"])("span",{class:"indicator"},"(optionnel)")],-1),pa={class:"tags-container"},ba=Object(o["h"])("svg",{class:"icon icon-cross"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-cross"})],-1),ha=Object(o["h"])("input",{type:"text",id:"tags",name:"tags",autocomplete:"off",spellcheck:"false",placeholder:"Ex: Hip-Hop, Electro, Lo-fi..."},null,-1),ma={class:"form-group"},fa=Object(o["h"])("label",{for:"price"},"Prix",-1),ja=Object(o["h"])("svg",{class:"icon icon-euro"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-euro"})],-1),Oa={key:0,class:"price-error"},va={class:"form-group"},ga=Object(o["h"])("label",{for:"max-streams"},[Object(o["g"])("Streams maximum "),Object(o["h"])("span",{class:"indicator"},"(optionnel)")],-1),ya={class:"d-flex"},wa=Object(o["h"])("button",{class:"btn btn--add-prod",type:"submit"}," Ajouter la prod ",-1);Object(o["r"])();var ka=Zs((function(e,t,r,s,a,n){var c=Object(o["x"])("app-navbar"),i=Object(o["x"])("app-roller-spinner"),l=Object(o["x"])("app-footer");return Object(o["q"])(),Object(o["d"])("div",Qs,[Object(o["h"])(c),a.isLoading?(Object(o["q"])(),Object(o["d"])(i,{key:0})):Object(o["e"])("",!0),Object(o["h"])("div",Ws,[Xs,Object(o["h"])("form",{class:"form",onSubmit:t[9]||(t[9]=Object(o["F"])((function(){return n.submit&&n.submit.apply(n,arguments)}),["prevent"]))},[Object(o["h"])("div",ea,[Object(o["E"])(Object(o["h"])("input",{type:"text",name:"title",id:"title",placeholder:"Titre",autocomplete:"off",spellcheck:"false","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.prod.title=e})},null,512),[[o["C"],a.prod.title]]),a.prod.titleError?(Object(o["q"])(),Object(o["d"])("div",ta,Object(o["A"])(a.prod.titleError),1)):Object(o["e"])("",!0)]),Object(o["h"])("div",ra,[oa,Object(o["h"])("input",{onChange:t[2]||(t[2]=function(){return n.fillCoverFileCustomTxt&&n.fillCoverFileCustomTxt.apply(n,arguments)}),type:"file",name:"cover-file",id:"cover-file"},null,32),Object(o["h"])("button",{type:"button",onClick:t[3]||(t[3]=function(){return n.triggerCoverFileBtn&&n.triggerCoverFileBtn.apply(n,arguments)}),class:"btn cover-file-custom-btn"}," Choisir un fichier "),sa,a.prod.coverFileError?(Object(o["q"])(),Object(o["d"])("div",aa,Object(o["A"])(a.prod.coverFileError),1)):Object(o["e"])("",!0)]),Object(o["h"])("div",na,[ca,Object(o["h"])("input",{onChange:t[4]||(t[4]=function(){return n.fillAudioFileCustomTxt&&n.fillAudioFileCustomTxt.apply(n,arguments)}),type:"file",name:"audio-file",id:"audio-file"},null,32),Object(o["h"])("button",{type:"button",onClick:t[5]||(t[5]=function(){return n.triggerAudioFileBtn&&n.triggerAudioFileBtn.apply(n,arguments)}),class:"btn audio-file-custom-btn"}," Choisir un fichier "),ia,a.prod.audioFileError?(Object(o["q"])(),Object(o["d"])("div",la,Object(o["A"])(a.prod.audioFileError),1)):Object(o["e"])("",!0)]),Object(o["h"])("div",da,[ua,Object(o["h"])("div",pa,[(Object(o["q"])(!0),Object(o["d"])(o["a"],null,Object(o["w"])(a.prod.tags,(function(e,t){return Object(o["q"])(),Object(o["d"])("span",{key:t,class:"tag"},[Object(o["g"])(Object(o["A"])(e)+" ",1),Object(o["h"])("button",{onClick:function(e){return n.removeTag(t)},type:"button",class:"btn remove-tag"},[ba],8,["onClick"])])})),128)),ha])]),Object(o["h"])("div",ma,[fa,Object(o["E"])(Object(o["h"])("input",{type:"number",min:"0",name:"price",id:"price",autocomplete:"off",step:"any","onUpdate:modelValue":t[6]||(t[6]=function(e){return a.prod.price=e}),placeholder:"Ex: 19,99"},null,512),[[o["C"],a.prod.price]]),ja,a.prod.priceError?(Object(o["q"])(),Object(o["d"])("div",Oa,Object(o["A"])(a.prod.priceError),1)):Object(o["e"])("",!0)]),Object(o["h"])("div",va,[ga,Object(o["E"])(Object(o["h"])("input",{type:"number",min:"0",step:"1",name:"max-streams",id:"max-streams",autocomplete:"off","onUpdate:modelValue":t[7]||(t[7]=function(e){return a.prod.maxStreams=e}),placeholder:"Illimité"},null,512),[[o["C"],a.prod.maxStreams]])]),Object(o["h"])("div",ya,[Object(o["h"])("button",{class:"btn btn--cancel",type:"button",onClick:t[8]||(t[8]=function(t){return e.$router.go(-1)})}," Annuler "),wa])],32)]),Object(o["h"])(l)])})),_a=(r("4160"),r("a434"),r("b0c0"),r("a9e3"),r("b680"),r("1276"),r("498a"),r("159b"),{data:function(){return{prod:{title:"",song:"",cover:"",tags:[],price:"",maxStreams:"",titleError:"",coverFileError:"",audioFileError:"",priceError:""},isLoading:!1}},computed:Object(C["a"])(Object(C["a"])({},Object(z["c"])(["user","jwt"])),Object(z["b"])("global",{apiRoot:"getApiRoot"})),components:{"app-navbar":$e,"app-footer":ur,"app-roller-spinner":Js},methods:{submit:function(){var e=this;if(this.prod.title)if(this.prod.titleError="",this.prod.song){this.prod.audioFileError="",this.isLoading=!0;var t=new FormData;if(t.append("title",this.prod.title),t.append("song",this.prod.song),this.prod.song){var r=document.getElementById("audio-file"),o=r.files[0].name;t.append("songToDisplay",o)}var s,a=Object(Ut["a"])(this.prod.tags);try{for(a.s();!(s=a.n()).done;){var n=s.value;t.append("tags",n)}}catch(l){a.e(l)}finally{a.f()}if(t.append("artist",this.user.username),t.append("price",Number(this.prod.price).toFixed(2)),t.append("maxStreams",this.prod.maxStreams),this.prod.cover){var c=document.getElementById("cover-file"),i=c.files[0].name;t.append("cover",this.prod.cover),t.append("coverToDisplay",i)}else t.append("cover","placeholder.jpg");D()({method:"post",url:this.apiRoot+"prods",data:t,headers:{"Content-Type":"multipart/form-data",Authorization:this.jwt}}).then((function(){e.isLoading=!1,e.$router.push("/compte/prods")})).catch((function(t){e.isLoading=!1,t.response.data.coverSizeError?e.prod.coverFileError=t.response.data.coverSizeError:t.response.data.coverFileTypeError?e.prod.coverFileError=t.response.data.coverFileTypeError:e.prod.coverFileError="",t.response.data.songSizeError?e.prod.audioFileError=t.response.data.songSizeError:t.response.data.prodFileTypeError?e.prod.audioFileError=t.response.data.prodFileTypeError:t.response.data.message?e.prod.audioFileError=t.response.data.message:e.prod.audioFileError=""}))}else this.prod.audioFileError="Veuillez indiquer la prod à ajouter";else this.prod.titleError="Veuillez indiquer le titre de la prod"},triggerAudioFileBtn:function(){document.getElementById("audio-file").click()},fillAudioFileCustomTxt:function(){var e=document.getElementById("audio-file"),t=document.querySelector(".audio-file-custom-txt"),r=e.files[0].name;t.innerHTML=r;var o=e.files[0];this.prod.song=o},triggerCoverFileBtn:function(){document.getElementById("cover-file").click()},fillCoverFileCustomTxt:function(){var e=document.getElementById("cover-file"),t=document.querySelector(".cover-file-custom-txt"),r=e.files[0].name;t.innerHTML=r;var o=e.files[0];this.prod.cover=o},removeTag:function(e){this.prod.tags.splice(e,1)}},mounted:function(){var e=this,t=document.querySelector(".tags-container"),r=document.getElementById("tags");r.addEventListener("input",(function(){var e=r.value.trim().split(",");e.length>1&&(e.forEach((function(e){0!==e.length&&o(e)})),r.value="")})),r.addEventListener("keydown",(function(t){var o=t.which||t.keyCode;8===o&&0===r.value.length&&e.prod.tags.length>0&&s(e.prod.tags.length-1)})),t.appendChild(r);var o=function(t){e.prod.tags.push(t)},s=function(t){e.prod.tags.splice(t,1)}}});r("a831");_a.render=ka,_a.__scopeId="data-v-68002490";var xa=_a,Ea=Object(o["G"])("data-v-7b28b7e8");Object(o["t"])("data-v-7b28b7e8");var qa={class:"update-prod"},Ma={class:"container"},Pa=Object(o["h"])("h1",null,"Modifier une prod",-1),La={class:"form-group"},Ca={key:0,class:"title-error"},Sa={class:"form-group"},Aa=Object(o["h"])("label",{for:"cover-file"},[Object(o["g"])("Converture "),Object(o["h"])("span",{class:"indicator"},"(optionnel)")],-1),Fa=Object(o["h"])("span",{class:"cover-file-custom-txt"},"Aucun fichier selectionné",-1),Ia={key:0,class:"cover-file-error"},Ta={class:"form-group"},Ra=Object(o["h"])("label",{for:"audio-file"},[Object(o["g"])("Fichier audio "),Object(o["h"])("span",{class:"indicator"},"(.mp3 ou .wav)")],-1),Ua=Object(o["h"])("span",{class:"audio-file-custom-txt"},"Aucun fichier selectionné",-1),Ba={key:0,class:"audio-file-error"},Va={class:"form-group","data-name":"tags-input"},Da=Object(o["h"])("label",{for:"tags"},[Object(o["g"])("Tags "),Object(o["h"])("span",{class:"indicator"},"(optionnel)")],-1),$a={class:"tags-container"},za=Object(o["h"])("svg",{class:"icon icon-cross"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-cross"})],-1),Na=Object(o["h"])("input",{type:"text",id:"tags",name:"tags",autocomplete:"off",spellcheck:"false",placeholder:"Ex: Hip-Hop, Electro, Lo-fi..."},null,-1),Ga={class:"form-group"},Ha=Object(o["h"])("label",{for:"price"},"Prix",-1),Ja=Object(o["h"])("svg",{class:"icon icon-euro"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-euro"})],-1),Ya={key:0,class:"price-error"},Ka={class:"form-group"},Za=Object(o["h"])("label",{for:"max-streams"},[Object(o["g"])("Streams maximum "),Object(o["h"])("span",{class:"indicator"},"(optionnel)")],-1),Qa={class:"d-flex"},Wa=Object(o["h"])("button",{class:"btn btn--add-prod",type:"submit"}," Modifier la prod ",-1);Object(o["r"])();var Xa=Ea((function(e,t,r,s,a,n){var c=Object(o["x"])("app-navbar"),i=Object(o["x"])("app-roller-spinner"),l=Object(o["x"])("app-footer");return Object(o["q"])(),Object(o["d"])("div",qa,[Object(o["h"])(c),a.isLoading?(Object(o["q"])(),Object(o["d"])(i,{key:0})):Object(o["e"])("",!0),Object(o["h"])("div",Ma,[Pa,Object(o["h"])("form",{class:"form",onSubmit:t[9]||(t[9]=Object(o["F"])((function(){return n.submit&&n.submit.apply(n,arguments)}),["prevent"]))},[Object(o["h"])("div",La,[Object(o["E"])(Object(o["h"])("input",{type:"text",name:"title",id:"title",placeholder:"Titre",autocomplete:"off",spellcheck:"false","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.prod.title=e})},null,512),[[o["C"],a.prod.title]]),a.prod.titleError?(Object(o["q"])(),Object(o["d"])("div",Ca,Object(o["A"])(a.prod.titleError),1)):Object(o["e"])("",!0)]),Object(o["h"])("div",Sa,[Aa,Object(o["h"])("input",{onChange:t[2]||(t[2]=function(){return n.fillCoverFileCustomTxt&&n.fillCoverFileCustomTxt.apply(n,arguments)}),type:"file",name:"cover-file",id:"cover-file"},null,32),Object(o["h"])("button",{type:"button",onClick:t[3]||(t[3]=function(){return n.triggerCoverFileBtn&&n.triggerCoverFileBtn.apply(n,arguments)}),class:"btn cover-file-custom-btn"}," Choisir un fichier "),Fa,a.prod.coverFileError?(Object(o["q"])(),Object(o["d"])("div",Ia,Object(o["A"])(a.prod.coverFileError),1)):Object(o["e"])("",!0)]),Object(o["h"])("div",Ta,[Ra,Object(o["h"])("input",{onChange:t[4]||(t[4]=function(){return n.fillAudioFileCustomTxt&&n.fillAudioFileCustomTxt.apply(n,arguments)}),type:"file",name:"audio-file",id:"audio-file"},null,32),Object(o["h"])("button",{type:"button",onClick:t[5]||(t[5]=function(){return n.triggerAudioFileBtn&&n.triggerAudioFileBtn.apply(n,arguments)}),class:"btn audio-file-custom-btn"}," Choisir un fichier "),Ua,a.prod.audioFileError?(Object(o["q"])(),Object(o["d"])("div",Ba,Object(o["A"])(a.prod.audioFileError),1)):Object(o["e"])("",!0)]),Object(o["h"])("div",Va,[Da,Object(o["h"])("div",$a,[(Object(o["q"])(!0),Object(o["d"])(o["a"],null,Object(o["w"])(a.prod.tags,(function(e,t){return Object(o["q"])(),Object(o["d"])("span",{key:t,class:"tag"},[Object(o["g"])(Object(o["A"])(e)+" ",1),Object(o["h"])("button",{onClick:function(e){return n.removeTag(t)},type:"button",class:"btn remove-tag"},[za],8,["onClick"])])})),128)),Na])]),Object(o["h"])("div",Ga,[Ha,Object(o["E"])(Object(o["h"])("input",{type:"number",min:"0",name:"price",id:"price",autocomplete:"off",step:"any","onUpdate:modelValue":t[6]||(t[6]=function(e){return a.prod.price=e}),placeholder:"Ex: 19,99"},null,512),[[o["C"],a.prod.price]]),Ja,a.prod.priceError?(Object(o["q"])(),Object(o["d"])("div",Ya,Object(o["A"])(a.prod.priceError),1)):Object(o["e"])("",!0)]),Object(o["h"])("div",Ka,[Za,Object(o["E"])(Object(o["h"])("input",{type:"number",min:"0",step:"1",name:"max-streams",id:"max-streams",autocomplete:"off","onUpdate:modelValue":t[7]||(t[7]=function(e){return a.prod.maxStreams=e}),placeholder:"Illimité"},null,512),[[o["C"],a.prod.maxStreams]])]),Object(o["h"])("div",Qa,[Object(o["h"])("button",{class:"btn btn--cancel",type:"button",onClick:t[8]||(t[8]=function(t){return e.$router.go(-1)})}," Annuler "),Wa])],32)]),Object(o["h"])(l)])})),en={data:function(){return{prod:{title:"",song:"",cover:"",tags:[],price:"",maxStreams:"",titleError:"",coverFileError:"",audioFileError:"",priceError:""},isLoading:!1}},computed:Object(C["a"])(Object(C["a"])({},Object(z["c"])(["user","jwt"])),Object(z["b"])("global",{apiRoot:"getApiRoot"})),components:{"app-navbar":$e,"app-footer":ur,"app-roller-spinner":Js},methods:{submit:function(){var e=this;if(this.prod.title)if(this.prod.titleError="",this.prod.song){this.prod.audioFileError="",this.isLoading=!0;var t=new FormData;t.append("title",this.prod.title),t.append("song",this.prod.song);var r=document.getElementById("audio-file");if(r.files[0]){var o=r.files[0].name;t.append("songToDisplay",o)}var s,a=Object(Ut["a"])(this.prod.tags);try{for(a.s();!(s=a.n()).done;){var n=s.value;t.append("tags",n)}}catch(l){a.e(l)}finally{a.f()}t.append("artist",this.user.username),t.append("price",Number(this.prod.price).toFixed(2)),t.append("maxStreams",this.prod.maxStreams);var c=document.getElementById("cover-file");if(this.prod.cover){if(c.files[0]){var i=c.files[0].name;t.append("cover",this.prod.cover),t.append("coverToDisplay",i)}}else t.append("cover","placeholder.jpg");D()({method:"patch",url:this.apiRoot+"prods/"+this.$route.params.id,data:t,headers:{"Content-Type":"multipart/form-data",Authorization:this.jwt}}).then((function(){e.isLoading=!1,e.$router.push("/compte/prods")})).catch((function(t){e.isLoading=!1,t.response.data.coverSizeError?e.prod.coverFileError=t.response.data.coverSizeError:t.response.data.coverFileTypeError?e.prod.coverFileError=t.response.data.coverFileTypeError:e.prod.coverFileError="",t.response.data.songSizeError?e.prod.audioFileError=t.response.data.songSizeError:t.response.data.message?e.prod.audioFileError=t.response.data.message:e.prod.audioFileError=""}))}else this.prod.audioFileError="Veuillez indiquer la prod à ajouter";else this.prod.titleError="Veuillez indiquer le titre de la prod"},triggerAudioFileBtn:function(){document.getElementById("audio-file").click()},fillAudioFileCustomTxt:function(){var e=document.getElementById("audio-file"),t=document.querySelector(".audio-file-custom-txt"),r=e.files[0].name;t.innerHTML=r;var o=e.files[0];this.prod.song=o},triggerCoverFileBtn:function(){document.getElementById("cover-file").click()},fillCoverFileCustomTxt:function(){var e=document.getElementById("cover-file"),t=document.querySelector(".cover-file-custom-txt"),r=e.files[0].name;t.innerHTML=r;var o=e.files[0];this.prod.cover=o},removeTag:function(e){this.prod.tags.splice(e,1)}},mounted:function(){var e=this,t=document.querySelector(".tags-container"),r=document.getElementById("tags");r.addEventListener("input",(function(){var e=r.value.trim().split(",");e.length>1&&(e.forEach((function(e){0!==e.length&&o(e)})),r.value="")})),r.addEventListener("keydown",(function(t){var o=t.which||t.keyCode;8===o&&0===r.value.length&&e.prod.tags.length>0&&s(e.prod.tags.length-1)})),t.appendChild(r);var o=function(t){e.prod.tags.push(t)},s=function(t){e.prod.tags.splice(t,1)}},created:function(){var e=this;D.a.get(this.apiRoot+"prod/"+this.$route.params.id).then((function(t){if(t.data.artist===e.user.username){e.prod.title=t.data.title,e.prod.song=t.data.song,e.prod.cover=t.data.cover,e.prod.tags=t.data.tags,e.prod.price=t.data.price,e.prod.maxStreams=t.data.maxStreams;var r=document.querySelector(".audio-file-custom-txt"),o=document.querySelector(".cover-file-custom-txt");t.data.coverToDisplay&&(o.innerHTML=t.data.coverToDisplay),r.innerHTML=t.data.songToDisplay}else e.$router.push("/compte/prods")})).catch((function(e){return console.log(e)}))}};r("724e");en.render=Xa,en.__scopeId="data-v-7b28b7e8";var tn=en,rn=Object(o["G"])("data-v-820d641a");Object(o["t"])("data-v-820d641a");var on={class:"profile-infos"},sn={class:"container"},an={class:"profile-navigation"};Object(o["r"])();var nn=rn((function(e,t,r,s,a,n){var c=Object(o["x"])("app-navbar"),i=Object(o["x"])("app-footer");return Object(o["q"])(),Object(o["d"])("div",on,[Object(o["h"])(c),Object(o["h"])("div",sn,[Object(o["h"])("div",an,[Object(o["h"])("button",{onClick:t[1]||(t[1]=function(){return n.switchToMyInfosComponent&&n.switchToMyInfosComponent.apply(n,arguments)}),class:"btn profile-navigation__my-infos active"}," Mes informations "),Object(o["h"])("button",{onClick:t[2]||(t[2]=function(){return n.switchToNewPasswordComponent&&n.switchToNewPasswordComponent.apply(n,arguments)}),class:"btn profile-navigation__password"}," Mot de passe ")]),(Object(o["q"])(),Object(o["d"])(Object(o["y"])(a.component)))]),Object(o["h"])(i)])})),cn=Object(o["G"])("data-v-0a0ff7dd");Object(o["t"])("data-v-0a0ff7dd");var ln={class:"form-group"},dn=Object(o["h"])("label",{for:"profile-pic-file"},[Object(o["g"])("Image de profil "),Object(o["h"])("span",{class:"indicator"},"(optionnel)")],-1),un=Object(o["h"])("span",{class:"profile-pic-file-custom-txt"},"Aucun fichier selectionné",-1),pn={key:0,class:"profile-pic-file-error"},bn={class:"form-group"},hn=Object(o["h"])("svg",{class:"icon icon-email"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-email"})],-1),mn={key:0,class:"update-email-error"},fn={class:"form-group"},jn=Object(o["h"])("label",{for:"description"},"Description",-1),On={class:"form-group"},vn=Object(o["h"])("svg",{class:"icon icon-soundcloud"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-soundcloud"})],-1),gn={class:"form-group"},yn=Object(o["h"])("svg",{class:"icon icon-instagram"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-instagram"})],-1),wn={class:"form-group"},kn=Object(o["h"])("svg",{class:"icon icon-youtube"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-youtube"})],-1),_n={class:"form-group"},xn=Object(o["h"])("svg",{class:"icon icon-twitter"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-twitter"})],-1),En={class:"form-group"},qn=Object(o["h"])("svg",{class:"icon icon-facebook"},[Object(o["h"])("use",{"xlink:href":"sprite.svg#icon-facebook"})],-1),Mn={class:"d-flex"},Pn=Object(o["h"])("button",{class:"btn btn--edit-profile",type:"submit"}," Mettre à jour ",-1);Object(o["r"])();var Ln=cn((function(e,t,r,s,a,n){var c=Object(o["x"])("app-roller-spinner");return Object(o["q"])(),Object(o["d"])("div",null,[a.isLoading?(Object(o["q"])(),Object(o["d"])(c,{key:0})):Object(o["e"])("",!0),Object(o["h"])("form",{onSubmit:t[11]||(t[11]=Object(o["F"])((function(){return n.submit&&n.submit.apply(n,arguments)}),["prevent"])),class:"form"},[Object(o["h"])("div",ln,[dn,Object(o["h"])("input",{onChange:t[1]||(t[1]=function(){return n.fillProfilePicFileCustomTxt&&n.fillProfilePicFileCustomTxt.apply(n,arguments)}),type:"file",name:"profile-pic-file",id:"profile-pic-file"},null,32),Object(o["h"])("button",{onClick:t[2]||(t[2]=function(){return n.triggerProfilePicFileBtn&&n.triggerProfilePicFileBtn.apply(n,arguments)}),type:"button",class:"btn profile-pic-file-custom-btn"}," Choisir un fichier "),un,a.profilePictureError?(Object(o["q"])(),Object(o["d"])("div",pn,Object(o["A"])(a.profilePictureError),1)):Object(o["e"])("",!0)]),Object(o["h"])("div",bn,[Object(o["E"])(Object(o["h"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.email=e}),type:"text",name:"update-email",id:"update-email",autocomplete:"false",spellcheck:"false",placeholder:"Email"},null,512),[[o["C"],a.email]]),hn,a.emailErrorMessage?(Object(o["q"])(),Object(o["d"])("div",mn,Object(o["A"])(a.emailErrorMessage),1)):Object(o["e"])("",!0)]),Object(o["h"])("div",fn,[jn,Object(o["E"])(Object(o["h"])("textarea",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.description=e}),name:"description",id:"description",autocomplete:"off",spellcheck:"false",placeholder:"Présentez-vous à la communauté...",rows:"5"},null,512),[[o["C"],a.description]])]),Object(o["h"])("div",On,[Object(o["E"])(Object(o["h"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.soundcloud=e}),type:"text",name:"soundcloud",id:"soundcloud",autocomplete:"off",spellcheck:"false",placeholder:"SoundCloud"},null,512),[[o["C"],a.soundcloud]]),vn]),Object(o["h"])("div",gn,[Object(o["E"])(Object(o["h"])("input",{"onUpdate:modelValue":t[6]||(t[6]=function(e){return a.instagram=e}),type:"text",name:"instagram",id:"instagram",autocomplete:"off",spellcheck:"false",placeholder:"Instagram"},null,512),[[o["C"],a.instagram]]),yn]),Object(o["h"])("div",wn,[Object(o["E"])(Object(o["h"])("input",{"onUpdate:modelValue":t[7]||(t[7]=function(e){return a.youtube=e}),type:"text",name:"youtube",id:"youtube",autocomplete:"off",spellcheck:"false",placeholder:"YouTube"},null,512),[[o["C"],a.youtube]]),kn]),Object(o["h"])("div",_n,[Object(o["E"])(Object(o["h"])("input",{"onUpdate:modelValue":t[8]||(t[8]=function(e){return a.twitter=e}),type:"text",name:"twitter",id:"twitter",autocomplete:"off",spellcheck:"false",placeholder:"Twitter"},null,512),[[o["C"],a.twitter]]),xn]),Object(o["h"])("div",En,[Object(o["E"])(Object(o["h"])("input",{"onUpdate:modelValue":t[9]||(t[9]=function(e){return a.facebook=e}),type:"text",name:"facebook",id:"facebook",autocomplete:"off",spellcheck:"false",placeholder:"Facebook"},null,512),[[o["C"],a.facebook]]),qn]),Object(o["h"])("div",Mn,[Object(o["h"])("button",{class:"btn btn--cancel",type:"button",onClick:t[10]||(t[10]=function(t){return e.$router.go(-1)})}," Annuler "),Pn])],32)])})),Cn={data:function(){return{profilePicture:"",profilePictureError:"",email:"",emailErrorMessage:"",description:"",soundcloud:"",instagram:"",youtube:"",twitter:"",facebook:"",isLoading:!1}},components:{"app-roller-spinner":Js},computed:Object(C["a"])(Object(C["a"])({},Object(z["c"])(["user","jwt"])),Object(z["b"])("global",{apiRoot:"getApiRoot"})),methods:{submit:function(){var e=this;if(""===this.email)return this.emailErrorMessage="Veuillez indiquer une adresse email";this.isLoading=!0;var t=new FormData;t.append("profilePicture",this.profilePicture);var r=document.getElementById("profile-pic-file");if(r.files[0]){var o=r.files[0].name;t.append("profilePictureToDisplay",o)}t.append("email",this.email),t.append("description",this.description),t.append("soundcloud",this.soundcloud),t.append("instagram",this.instagram),t.append("youtube",this.youtube),t.append("twitter",this.twitter),t.append("facebook",this.facebook),D()({method:"patch",url:this.apiRoot+"users/me",data:t,headers:{"Content-Type":"multipart/form-data",Authorization:this.jwt}}).then((function(){D.a.get(e.apiRoot+"users/me",{headers:{Authorization:e.jwt}}).then((function(t){var r=JSON.parse(localStorage.getItem("user"));r.profilePicture=t.data.profilePicture,localStorage.setItem("user",JSON.stringify(r)),e.$store.dispatch("setUser",JSON.parse(localStorage.getItem("user")))}))})).then((function(){e.isLoading=!1,e.$router.push("/profil/"+e.user.username)})).catch((function(t){e.isLoading=!1,e.emailErrorMessage=t.response.data.email,t.response.data.coverFileTypeError?e.profilePictureError=t.response.data.coverFileTypeError:t.response.data.coverSizeError?e.profilePictureError=t.response.data.coverSizeError:e.profilePictureError=""}))},triggerProfilePicFileBtn:function(){document.getElementById("profile-pic-file").click()},fillProfilePicFileCustomTxt:function(){var e=document.getElementById("profile-pic-file"),t=document.querySelector(".profile-pic-file-custom-txt"),r=e.files[0].name;t.innerHTML=r;var o=e.files[0];this.profilePicture=o}},created:function(){var e=this;D.a.get(this.apiRoot+"users/me",{headers:{Authorization:this.jwt}}).then((function(t){e.profilePicture=t.data.profilePicture,e.email=t.data.email,e.description=t.data.description,e.soundcloud=t.data.soundcloud,e.instagram=t.data.instagram,e.youtube=t.data.youtube,e.twitter=t.data.twitter,e.facebook=t.data.facebook;var r=document.querySelector(".profile-pic-file-custom-txt");"profile-picture-placeholder.png"!==t.data.profilePicture&&(r.innerHTML=t.data.profilePictureToDisplay)})).catch((function(e){return console.log(e)}))}};r("7108");Cn.render=Ln,Cn.__scopeId="data-v-0a0ff7dd";var Sn=Cn,An=Object(o["G"])("data-v-d2438a60");Object(o["t"])("data-v-d2438a60");var Fn={class:"form-group"},In={key:0,class:"current-password-error"},Tn={class:"form-group"},Rn={key:0,class:"new-password-error"},Un={class:"form-group"},Bn={key:0,class:"confirm-new-password-error"},Vn={class:"d-flex"},Dn=Object(o["h"])("button",{class:"btn btn--validate",type:"submit"}," Mettre à jour ",-1);Object(o["r"])();var $n=An((function(e,t,r,s,a,n){var c=Object(o["x"])("app-roller-spinner");return Object(o["q"])(),Object(o["d"])("div",null,[a.isLoading?(Object(o["q"])(),Object(o["d"])(c,{key:0})):Object(o["e"])("",!0),Object(o["h"])("form",{onSubmit:t[5]||(t[5]=Object(o["F"])((function(){return n.submit&&n.submit.apply(n,arguments)}),["prevent"])),class:"new-password"},[Object(o["h"])("div",Fn,[Object(o["E"])(Object(o["h"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.currentPassword=e}),type:"password",name:"current-password",id:"current-password",spellcheck:"false",placeholder:"Mot de passe actuel"},null,512),[[o["C"],a.currentPassword,void 0,{trim:!0}]]),a.currentPasswordError?(Object(o["q"])(),Object(o["d"])("div",In,Object(o["A"])(a.currentPasswordError),1)):Object(o["e"])("",!0)]),Object(o["h"])("div",Tn,[Object(o["E"])(Object(o["h"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.newPassword=e}),type:"password",name:"new-password",id:"new-password",spellcheck:"false",placeholder:"Nouveau mot de passe"},null,512),[[o["C"],a.newPassword,void 0,{trim:!0}]]),a.newPasswordError?(Object(o["q"])(),Object(o["d"])("div",Rn,Object(o["A"])(a.newPasswordError),1)):Object(o["e"])("",!0)]),Object(o["h"])("div",Un,[Object(o["E"])(Object(o["h"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.confirmNewPassword=e}),type:"password",name:"confirm-new-password",id:"confirm-new-password",spellcheck:"false",placeholder:"Confirmer le nouveau mot de passe"},null,512),[[o["C"],a.confirmNewPassword,void 0,{trim:!0}]]),a.confirmNewPasswordError?(Object(o["q"])(),Object(o["d"])("div",Bn,Object(o["A"])(a.confirmNewPasswordError),1)):Object(o["e"])("",!0)]),Object(o["h"])("div",Vn,[Object(o["h"])("button",{class:"btn btn--cancel",type:"button",onClick:t[4]||(t[4]=function(t){return e.$router.go(-1)})}," Annuler "),Dn])],32)])})),zn={data:function(){return{currentPassword:"",newPassword:"",confirmNewPassword:"",currentPasswordError:"",newPasswordError:"",confirmNewPasswordError:"",isLoading:!1,currentPasswordIsValid:!1,newPasswordIsValid:!1,confirmNewPasswordIsValid:!1}},computed:Object(C["a"])(Object(C["a"])({},Object(z["c"])(["user","jwt"])),Object(z["b"])("global",{apiRoot:"getApiRoot"})),components:{"app-roller-spinner":Js},methods:{submit:function(){var e=this;this.validateForm(),this.currentPasswordIsValid&&this.newPasswordIsValid&&this.confirmNewPasswordIsValid&&(this.isLoading=!0,D.a.patch(this.apiRoot+"users/me/new-password",{currentPassword:this.currentPassword,newPassword:this.newPassword},{headers:{Authorization:this.jwt}}).then((function(){e.isLoading=!1,e.$router.push("/profil/"+e.user.username)})).catch((function(t){e.isLoading=!1,e.currentPasswordError=t.response.data.password})))},validateForm:function(){""===this.currentPassword?(this.currentPasswordError="Veuillez indiquer votre mot de passe actuel",this.currentPasswordIsValid=!1):(this.currentPasswordIsValid=!0,this.currentPasswordError=""),""===this.newPassword?(this.newPasswordError="Veuillez indiquer le nouveau mot de passe",this.newPasswordIsValid=!1):this.newPassword.length<6?(this.newPasswordError="Le mot de passe doit être d'au moins 6 caractères",this.newPasswordIsValid=!1):(this.newPasswordIsValid=!0,this.newPasswordError=""),""===this.confirmNewPassword?(this.confirmNewPasswordError="Veuillez confirmer le nouveau mot de passe",this.confirmNewPasswordIsValid=!1):this.newPassword!==this.confirmNewPassword?(this.confirmNewPasswordError="Les mots de passe ne correspondent pas",this.confirmNewPasswordIsValid=!1):(this.confirmNewPasswordIsValid=!0,this.confirmNewPasswordError="")}}};r("a4f4");zn.render=$n,zn.__scopeId="data-v-d2438a60";var Nn=zn,Gn={data:function(){return{component:"app-my-infos"}},components:{"app-navbar":$e,"app-my-infos":Sn,"app-new-password":Nn,"app-footer":ur},methods:{switchToNewPasswordComponent:function(){this.component="app-new-password";var e=document.querySelector(".profile-navigation__password");e.classList.add("active");var t=document.querySelector(".profile-navigation__my-infos");t.classList.remove("active")},switchToMyInfosComponent:function(){this.component="app-my-infos";var e=document.querySelector(".profile-navigation__my-infos");e.classList.add("active");var t=document.querySelector(".profile-navigation__password");t.classList.remove("active")}}};r("5ec8");Gn.render=nn,Gn.__scopeId="data-v-820d641a";var Hn=Gn,Jn={apiRoot:"/api/"},Yn={getApiRoot:function(e){return e.apiRoot}},Kn={state:Jn,getters:Yn,namespaced:!0},Zn={username:"",email:"",password:"",confirmPassword:"",usernameErrorMessage:"",emailErrorMessage:"",passwordErrorMessage:"",confirmPasswordErrorMessage:""},Qn={getField:$["a"]},Wn={setUsernameErrorMessage:function(e,t){return e.usernameErrorMessage=t},setEmailErrorMessage:function(e,t){return e.emailErrorMessage=t},setPasswordErrorMessage:function(e,t){return e.passwordErrorMessage=t},setConfirmPasswordErrorMessage:function(e,t){return e.confirmPasswordErrorMessage=t},resetForm:function(e){e.username="",e.email="",e.password="",e.confirmPassword="",e.usernameErrorMessage="",e.emailErrorMessage="",e.passwordErrorMessage="",e.confirmPasswordErrorMessage=""},updateField:$["c"]},Xn={state:Zn,getters:Qn,mutations:Wn,namespaced:!0},ec={username:null,password:null,errorMessage:null},tc={getErrorMessage:function(e){return e.errorMessage},getField:$["a"]},rc={resetForm:function(e){e.username=null,e.password=null,e.errorMessage=null},setErrorMessage:function(e,t){return e.errorMessage=t},updateField:$["c"]},oc={resetForm:function(e){var t=e.commit;return t("resetForm")},setErrorMessage:function(e,t){var r=e.commit;return r("setErrorMessage",t)}},sc={state:ec,getters:tc,mutations:rc,actions:oc,namespaced:!0},ac=Object(z["a"])({state:{jwt:localStorage.getItem("jwt"),user:JSON.parse(localStorage.getItem("user"))},mutations:{setToken:function(e,t){return e.jwt=t},setUser:function(e,t){return e.user=t}},actions:{setToken:function(e,t){var r=e.commit;return r("setToken",t)},setUser:function(e,t){var r=e.commit;return r("setUser",t)}},modules:{global:Kn,signUpModal:Xn,signInModal:sc}}),nc=[{path:"/",name:"Home",component:br},{path:"/prods",name:"Prods",component:eo},{path:"/profil/:username",name:"Profile",component:Xo},{path:"/compte/prods",name:"MyProds",component:Ks,meta:{requiresAuth:!0}},{path:"/compte/prods/ajouter",name:"AddProd",component:xa,meta:{requiresAuth:!0}},{path:"/compte/prods/:id",name:"UpdateProd",component:tn,meta:{requiresAuth:!0}},{path:"/compte/infos",name:"ProfileInfos",component:Hn,meta:{requiresAuth:!0}}];nc.scrollBehavior=function(){return{x:0,y:0}};var cc=Object(he["a"])({history:Object(he["b"])("/"),routes:nc});cc.beforeEach((function(e,t,r){if(e.meta.requiresAuth&&!ac.state.user){r("/");var o=document.querySelector(".sign-in-modal"),s=document.querySelector(".sign-in-modal__content");s.classList.add("animate__animated","animate__slideInDown","animate__faster"),o.classList.add("active"),o.classList.contains("active")&&window.addEventListener("click",(function(e){if(e.target!==o)return!1;o.classList.remove("active")}))}else r()}));var ic=cc,lc=Object(o["c"])(be);lc.use(ac),lc.use(ic),lc.config.globalProperties.$axios=D.a,lc.mount("#app")},"5e90":function(e,t,r){"use strict";r("d499")},"5ec8":function(e,t,r){"use strict";r("c66f")},"5ee9":function(e,t,r){},6934:function(e,t,r){"use strict";r("833d")},"6bb3":function(e,t,r){},"6cda":function(e,t,r){"use strict";r("f434")},7108:function(e,t,r){"use strict";r("7dab")},"724e":function(e,t,r){"use strict";r("13a4")},"72a8":function(e,t,r){"use strict";r("4776")},"768c":function(e,t,r){"use strict";r("5ee9")},"7dab":function(e,t,r){},"7fa3":function(e,t,r){"use strict";r("afd8")},"833d":function(e,t,r){},"91dc":function(e,t,r){"use strict";r("ba93")},a3cf:function(e,t,r){"use strict";r("22d7")},a40a:function(e,t,r){"use strict";r("eeb7")},a4f4:function(e,t,r){"use strict";r("4872")},a831:function(e,t,r){"use strict";r("41a8")},acfc:function(e,t,r){},af0a:function(e,t,r){"use strict";r("fd05")},afd8:function(e,t,r){},b138:function(e,t,r){"use strict";r("4352")},b4bf:function(e,t,r){},ba93:function(e,t,r){},c66f:function(e,t,r){},cbb4:function(e,t,r){"use strict";r("b4bf")},d499:function(e,t,r){},db9b:function(e,t,r){"use strict";r("6bb3")},e0ee:function(e,t,r){e.exports=r.p+"img/placeholder.cd22887e.jpg"},eeb7:function(e,t,r){},f434:function(e,t,r){},fd05:function(e,t,r){}});
//# sourceMappingURL=app.1b532f79.js.map